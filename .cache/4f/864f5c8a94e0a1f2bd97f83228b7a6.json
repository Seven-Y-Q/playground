{"id":"RrO3","dependencies":[{"name":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1584771267802},{"name":"./lessScanner.js","loc":{"line":19,"column":29},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/lessParser.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/lessScanner.js"},{"name":"./cssScanner.js","loc":{"line":20,"column":26},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/lessParser.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssScanner.js"},{"name":"./cssParser.js","loc":{"line":21,"column":27},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/lessParser.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssParser.js"},{"name":"./cssNodes.js","loc":{"line":22,"column":23},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/lessParser.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssNodes.js"},{"name":"./cssErrors.js","loc":{"line":23,"column":27},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/lessParser.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssErrors.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.LESSParser=void 0;var e=a(require(\"./lessScanner.js\")),t=require(\"./cssScanner.js\"),r=a(require(\"./cssParser.js\")),i=a(require(\"./cssNodes.js\")),s=require(\"./cssErrors.js\");function n(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}var o=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),p=function(r){function n(){return r.call(this,new e.LESSScanner)||this}return o(n,r),n.prototype._parseStylesheetStatement=function(e){return void 0===e&&(e=!1),this.peek(t.TokenType.AtKeyword)?this._parseVariableDeclaration()||this._parsePlugin()||r.prototype._parseStylesheetAtStatement.call(this,e):this._tryParseMixinDeclaration()||this._tryParseMixinReference()||this._parseFunction()||this._parseRuleset(!0)},n.prototype._parseImport=function(){if(!this.peekKeyword(\"@import\")&&!this.peekKeyword(\"@import-once\"))return null;var e=this.create(i.Import);if(this.consumeToken(),this.accept(t.TokenType.ParenthesisL)){if(!this.accept(t.TokenType.Ident))return this.finish(e,s.ParseError.IdentifierExpected,[t.TokenType.SemiColon]);do{if(!this.accept(t.TokenType.Comma))break}while(this.accept(t.TokenType.Ident));if(!this.accept(t.TokenType.ParenthesisR))return this.finish(e,s.ParseError.RightParenthesisExpected,[t.TokenType.SemiColon])}return e.addChild(this._parseURILiteral())||e.addChild(this._parseStringLiteral())?(this.peek(t.TokenType.SemiColon)||this.peek(t.TokenType.EOF)||e.setMedialist(this._parseMediaQueryList()),this.finish(e)):this.finish(e,s.ParseError.URIOrStringExpected,[t.TokenType.SemiColon])},n.prototype._parsePlugin=function(){if(!this.peekKeyword(\"@plugin\"))return null;var e=this.createNode(i.NodeType.Plugin);return this.consumeToken(),e.addChild(this._parseStringLiteral())?this.accept(t.TokenType.SemiColon)?this.finish(e):this.finish(e,s.ParseError.SemiColonExpected):this.finish(e,s.ParseError.StringLiteralExpected)},n.prototype._parseMediaQuery=function(e){var t=r.prototype._parseMediaQuery.call(this,e);if(!t){var s=this.create(i.MediaQuery);return s.addChild(this._parseVariable())?this.finish(s):null}return t},n.prototype._parseMediaDeclaration=function(e){return void 0===e&&(e=!1),this._tryParseRuleset(e)||this._tryToParseDeclaration()||this._tryParseMixinDeclaration()||this._tryParseMixinReference()||this._parseDetachedRuleSetMixin()||this._parseStylesheetStatement(e)},n.prototype._parseMediaFeatureName=function(){return this._parseIdent()||this._parseVariable()},n.prototype._parseVariableDeclaration=function(e){void 0===e&&(e=[]);var r=this.create(i.VariableDeclaration),n=this.mark();if(!r.setVariable(this._parseVariable(!0)))return null;if(!this.accept(t.TokenType.Colon))return this.restoreAtMark(n),null;if(this.prevToken&&(r.colonPosition=this.prevToken.offset),r.setValue(this._parseDetachedRuleSet()))r.needsSemicolon=!1;else if(!r.setValue(this._parseExpr()))return this.finish(r,s.ParseError.VariableValueExpected,[],e);return r.addChild(this._parsePrio()),this.peek(t.TokenType.SemiColon)&&(r.semicolonPosition=this.token.offset),this.finish(r)},n.prototype._parseDetachedRuleSet=function(){var e=this.mark();if(this.peekDelim(\"#\")||this.peekDelim(\".\")){if(this.consumeToken(),this.hasWhitespace()||!this.accept(t.TokenType.ParenthesisL))return this.restoreAtMark(e),null;var r=this.create(i.MixinDeclaration);if(r.getParameters().addChild(this._parseMixinParameter()))for(;(this.accept(t.TokenType.Comma)||this.accept(t.TokenType.SemiColon))&&!this.peek(t.TokenType.ParenthesisR);)r.getParameters().addChild(this._parseMixinParameter())||this.markError(r,s.ParseError.IdentifierExpected,[],[t.TokenType.ParenthesisR]);if(!this.accept(t.TokenType.ParenthesisR))return this.restoreAtMark(e),null}if(!this.peek(t.TokenType.CurlyL))return null;var n=this.create(i.BodyDeclaration);return this._parseBody(n,this._parseDetachedRuleSetBody.bind(this)),this.finish(n)},n.prototype._parseDetachedRuleSetBody=function(){return this._tryParseKeyframeSelector()||this._parseRuleSetDeclaration()},n.prototype._addLookupChildren=function(e){if(!e.addChild(this._parseLookupValue()))return!1;for(var r=!1;this.peek(t.TokenType.BracketL)&&(r=!0),e.addChild(this._parseLookupValue());)r=!1;return!r},n.prototype._parseLookupValue=function(){var e=this.create(i.Node),r=this.mark();return this.accept(t.TokenType.BracketL)&&((e.addChild(this._parseVariable(!1,!0))||e.addChild(this._parsePropertyIdentifier()))&&this.accept(t.TokenType.BracketR)||this.accept(t.TokenType.BracketR))?e:(this.restoreAtMark(r),null)},n.prototype._parseVariable=function(e,r){void 0===e&&(e=!1),void 0===r&&(r=!1);var s=!e&&this.peekDelim(\"$\");if(!this.peekDelim(\"@\")&&!s&&!this.peek(t.TokenType.AtKeyword))return null;for(var n=this.create(i.Variable),a=this.mark();this.acceptDelim(\"@\")||!e&&this.acceptDelim(\"$\");)if(this.hasWhitespace())return this.restoreAtMark(a),null;return(this.accept(t.TokenType.AtKeyword)||this.accept(t.TokenType.Ident))&&(r||!this.peek(t.TokenType.BracketL)||this._addLookupChildren(n))?n:(this.restoreAtMark(a),null)},n.prototype._parseTerm=function(){var e=r.prototype._parseTerm.call(this);return e||((e=this.create(i.Term)).setExpression(this._parseVariable())||e.setExpression(this._parseEscaped())||e.setExpression(this._tryParseMixinReference(!1))?this.finish(e):null)},n.prototype._parseEscaped=function(){if(this.peek(t.TokenType.EscapedJavaScript)||this.peek(t.TokenType.BadEscapedJavaScript)){var e=this.createNode(i.NodeType.EscapedValue);return this.consumeToken(),this.finish(e)}if(this.peekDelim(\"~\")){e=this.createNode(i.NodeType.EscapedValue);return this.consumeToken(),this.accept(t.TokenType.String)||this.accept(t.TokenType.EscapedJavaScript)?this.finish(e):this.finish(e,s.ParseError.TermExpected)}return null},n.prototype._parseOperator=function(){var e=this._parseGuardOperator();return e||r.prototype._parseOperator.call(this)},n.prototype._parseGuardOperator=function(){if(this.peekDelim(\">\")){var e=this.createNode(i.NodeType.Operator);return this.consumeToken(),this.acceptDelim(\"=\"),e}if(this.peekDelim(\"=\")){e=this.createNode(i.NodeType.Operator);return this.consumeToken(),this.acceptDelim(\"<\"),e}if(this.peekDelim(\"<\")){e=this.createNode(i.NodeType.Operator);return this.consumeToken(),this.acceptDelim(\"=\"),e}return null},n.prototype._parseRuleSetDeclaration=function(){return this.peek(t.TokenType.AtKeyword)?this._parseKeyframe()||this._parseMedia(!0)||this._parseImport()||this._parseSupports(!0)||this._parseDetachedRuleSetMixin()||this._parseVariableDeclaration()||this._parseUnknownAtRule():this._tryParseMixinDeclaration()||this._tryParseRuleset(!0)||this._tryParseMixinReference()||this._parseFunction()||this._parseExtend()||r.prototype._parseRuleSetDeclaration.call(this)},n.prototype._parseKeyframeIdent=function(){return this._parseIdent([i.ReferenceType.Keyframe])||this._parseVariable()},n.prototype._parseKeyframeSelector=function(){return this._parseDetachedRuleSetMixin()||r.prototype._parseKeyframeSelector.call(this)},n.prototype._parseSimpleSelectorBody=function(){return this._parseSelectorCombinator()||r.prototype._parseSimpleSelectorBody.call(this)},n.prototype._parseSelector=function(e){var r=this.create(i.Selector),s=!1;for(e&&(s=r.addChild(this._parseCombinator()));r.addChild(this._parseSimpleSelector());){s=!0;var n=this.mark();if(r.addChild(this._parseGuard())&&this.peek(t.TokenType.CurlyL))break;this.restoreAtMark(n),r.addChild(this._parseCombinator())}return s?this.finish(r):null},n.prototype._parseSelectorCombinator=function(){if(this.peekDelim(\"&\")){var e=this.createNode(i.NodeType.SelectorCombinator);for(this.consumeToken();!this.hasWhitespace()&&(this.acceptDelim(\"-\")||this.accept(t.TokenType.Num)||this.accept(t.TokenType.Dimension)||e.addChild(this._parseIdent())||this.acceptDelim(\"&\")););return this.finish(e)}return null},n.prototype._parseSelectorIdent=function(){if(!this.peekInterpolatedIdent())return null;var e=this.createNode(i.NodeType.SelectorInterpolation);return this._acceptInterpolatedIdent(e)?this.finish(e):null},n.prototype._parsePropertyIdentifier=function(e){void 0===e&&(e=!1);var t=/^[\\w-]+/;if(!this.peekInterpolatedIdent()&&!this.peekRegExp(this.token.type,t))return null;var r=this.mark(),s=this.create(i.Identifier);s.isCustomProperty=this.acceptDelim(\"-\")&&this.acceptDelim(\"-\");return(e?s.isCustomProperty?s.addChild(this._parseIdent()):s.addChild(this._parseRegexp(t)):s.isCustomProperty?this._acceptInterpolatedIdent(s):this._acceptInterpolatedIdent(s,t))?(e||this.hasWhitespace()||(this.acceptDelim(\"+\"),this.hasWhitespace()||this.acceptIdent(\"_\")),this.finish(s)):(this.restoreAtMark(r),null)},n.prototype.peekInterpolatedIdent=function(){return this.peek(t.TokenType.Ident)||this.peekDelim(\"@\")||this.peekDelim(\"$\")||this.peekDelim(\"-\")},n.prototype._acceptInterpolatedIdent=function(e,r){for(var i=this,s=!1,n=function(){var e=i.mark();return i.acceptDelim(\"-\")&&(i.hasWhitespace()||i.acceptDelim(\"-\"),i.hasWhitespace())?(i.restoreAtMark(e),null):i._parseInterpolation()},a=r?function(){return i.acceptRegexp(r)}:function(){return i.accept(t.TokenType.Ident)};(a()||e.addChild(this._parseInterpolation()||this.try(n)))&&(s=!0,!this.hasWhitespace()););return s},n.prototype._parseInterpolation=function(){var e=this.mark();if(this.peekDelim(\"@\")||this.peekDelim(\"$\")){var r=this.createNode(i.NodeType.Interpolation);return this.consumeToken(),this.hasWhitespace()||!this.accept(t.TokenType.CurlyL)?(this.restoreAtMark(e),null):r.addChild(this._parseIdent())?this.accept(t.TokenType.CurlyR)?this.finish(r):this.finish(r,s.ParseError.RightCurlyExpected):this.finish(r,s.ParseError.IdentifierExpected)}return null},n.prototype._tryParseMixinDeclaration=function(){var e=this.mark(),r=this.create(i.MixinDeclaration);if(!r.setIdentifier(this._parseMixinDeclarationIdentifier())||!this.accept(t.TokenType.ParenthesisL))return this.restoreAtMark(e),null;if(r.getParameters().addChild(this._parseMixinParameter()))for(;(this.accept(t.TokenType.Comma)||this.accept(t.TokenType.SemiColon))&&!this.peek(t.TokenType.ParenthesisR);)r.getParameters().addChild(this._parseMixinParameter())||this.markError(r,s.ParseError.IdentifierExpected,[],[t.TokenType.ParenthesisR]);return this.accept(t.TokenType.ParenthesisR)?(r.setGuard(this._parseGuard()),this.peek(t.TokenType.CurlyL)?this._parseBody(r,this._parseMixInBodyDeclaration.bind(this)):(this.restoreAtMark(e),null)):(this.restoreAtMark(e),null)},n.prototype._parseMixInBodyDeclaration=function(){return this._parseFontFace()||this._parseRuleSetDeclaration()},n.prototype._parseMixinDeclarationIdentifier=function(){var e;if(this.peekDelim(\"#\")||this.peekDelim(\".\")){if(e=this.create(i.Identifier),this.consumeToken(),this.hasWhitespace()||!e.addChild(this._parseIdent()))return null}else{if(!this.peek(t.TokenType.Hash))return null;e=this.create(i.Identifier),this.consumeToken()}return e.referenceTypes=[i.ReferenceType.Mixin],this.finish(e)},n.prototype._parsePseudo=function(){if(!this.peek(t.TokenType.Colon))return null;var e=this.mark(),s=this.create(i.ExtendsReference);return this.consumeToken(),this.acceptIdent(\"extend\")?this._completeExtends(s):(this.restoreAtMark(e),r.prototype._parsePseudo.call(this))},n.prototype._parseExtend=function(){if(!this.peekDelim(\"&\"))return null;var e=this.mark(),r=this.create(i.ExtendsReference);return this.consumeToken(),!this.hasWhitespace()&&this.accept(t.TokenType.Colon)&&this.acceptIdent(\"extend\")?this._completeExtends(r):(this.restoreAtMark(e),null)},n.prototype._completeExtends=function(e){if(!this.accept(t.TokenType.ParenthesisL))return this.finish(e,s.ParseError.LeftParenthesisExpected);var r=e.getSelectors();if(!r.addChild(this._parseSelector(!0)))return this.finish(e,s.ParseError.SelectorExpected);for(;this.accept(t.TokenType.Comma);)if(!r.addChild(this._parseSelector(!0)))return this.finish(e,s.ParseError.SelectorExpected);return this.accept(t.TokenType.ParenthesisR)?this.finish(e):this.finish(e,s.ParseError.RightParenthesisExpected)},n.prototype._parseDetachedRuleSetMixin=function(){if(!this.peek(t.TokenType.AtKeyword))return null;var e=this.mark(),r=this.create(i.MixinReference);return!r.addChild(this._parseVariable(!0))||!this.hasWhitespace()&&this.accept(t.TokenType.ParenthesisL)?this.accept(t.TokenType.ParenthesisR)?this.finish(r):this.finish(r,s.ParseError.RightParenthesisExpected):(this.restoreAtMark(e),null)},n.prototype._tryParseMixinReference=function(e){void 0===e&&(e=!0);for(var r=this.mark(),n=this.create(i.MixinReference),a=this._parseMixinDeclarationIdentifier();a;){this.acceptDelim(\">\");var o=this._parseMixinDeclarationIdentifier();if(!o)break;n.getNamespaces().addChild(a),a=o}if(!n.setIdentifier(a))return this.restoreAtMark(r),null;var p=!1;if(!this.hasWhitespace()&&this.accept(t.TokenType.ParenthesisL)){if(p=!0,n.getArguments().addChild(this._parseMixinArgument()))for(;(this.accept(t.TokenType.Comma)||this.accept(t.TokenType.SemiColon))&&!this.peek(t.TokenType.ParenthesisR);)if(!n.getArguments().addChild(this._parseMixinArgument()))return this.finish(n,s.ParseError.ExpressionExpected);if(!this.accept(t.TokenType.ParenthesisR))return this.finish(n,s.ParseError.RightParenthesisExpected);a.referenceTypes=[i.ReferenceType.Mixin]}else a.referenceTypes=[i.ReferenceType.Mixin,i.ReferenceType.Rule];return this.peek(t.TokenType.BracketL)?e||this._addLookupChildren(n):n.addChild(this._parsePrio()),p||this.peek(t.TokenType.SemiColon)||this.peek(t.TokenType.CurlyR)||this.peek(t.TokenType.EOF)?this.finish(n):(this.restoreAtMark(r),null)},n.prototype._parseMixinArgument=function(){var e=this.create(i.FunctionArgument),r=this.mark(),s=this._parseVariable();return s&&(this.accept(t.TokenType.Colon)?e.setIdentifier(s):this.restoreAtMark(r)),e.setValue(this._parseDetachedRuleSet()||this._parseExpr(!0))?this.finish(e):(this.restoreAtMark(r),null)},n.prototype._parseMixinParameter=function(){var r=this.create(i.FunctionParameter);if(this.peekKeyword(\"@rest\")){var n=this.create(i.Node);return this.consumeToken(),this.accept(e.Ellipsis)?(r.setIdentifier(this.finish(n)),this.finish(r)):this.finish(r,s.ParseError.DotExpected,[],[t.TokenType.Comma,t.TokenType.ParenthesisR])}if(this.peek(e.Ellipsis)){var a=this.create(i.Node);return this.consumeToken(),r.setIdentifier(this.finish(a)),this.finish(r)}var o=!1;return r.setIdentifier(this._parseVariable())&&(this.accept(t.TokenType.Colon),o=!0),r.setDefaultValue(this._parseDetachedRuleSet()||this._parseExpr(!0))||o?this.finish(r):null},n.prototype._parseGuard=function(){if(!this.peekIdent(\"when\"))return null;var e=this.create(i.LessGuard);if(this.consumeToken(),e.isNegated=this.acceptIdent(\"not\"),!e.getConditions().addChild(this._parseGuardCondition()))return this.finish(e,s.ParseError.ConditionExpected);for(;this.acceptIdent(\"and\")||this.accept(t.TokenType.Comma);)if(!e.getConditions().addChild(this._parseGuardCondition()))return this.finish(e,s.ParseError.ConditionExpected);return this.finish(e)},n.prototype._parseGuardCondition=function(){if(!this.peek(t.TokenType.ParenthesisL))return null;var e=this.create(i.GuardCondition);return this.consumeToken(),e.addChild(this._parseExpr()),this.accept(t.TokenType.ParenthesisR)?this.finish(e):this.finish(e,s.ParseError.RightParenthesisExpected)},n.prototype._parseFunction=function(){var e=this.mark(),r=this.create(i.Function);if(!r.setIdentifier(this._parseFunctionIdentifier()))return null;if(this.hasWhitespace()||!this.accept(t.TokenType.ParenthesisL))return this.restoreAtMark(e),null;if(r.getArguments().addChild(this._parseMixinArgument()))for(;(this.accept(t.TokenType.Comma)||this.accept(t.TokenType.SemiColon))&&!this.peek(t.TokenType.ParenthesisR);)if(!r.getArguments().addChild(this._parseMixinArgument()))return this.finish(r,s.ParseError.ExpressionExpected);return this.accept(t.TokenType.ParenthesisR)?this.finish(r):this.finish(r,s.ParseError.RightParenthesisExpected)},n.prototype._parseFunctionIdentifier=function(){if(this.peekDelim(\"%\")){var e=this.create(i.Identifier);return e.referenceTypes=[i.ReferenceType.Function],this.consumeToken(),this.finish(e)}return r.prototype._parseFunctionIdentifier.call(this)},n.prototype._parseURLArgument=function(){var e=this.mark(),s=r.prototype._parseURLArgument.call(this);if(!s||!this.peek(t.TokenType.ParenthesisR)){this.restoreAtMark(e);var n=this.create(i.Node);return n.addChild(this._parseBinaryExpr()),this.finish(n)}return s},n}(r.Parser);exports.LESSParser=p;"},"sourceMaps":null,"error":null,"hash":"2d0f7e75b41c1e35fa03fc8acbea3ef7","cacheData":{"env":{}}}