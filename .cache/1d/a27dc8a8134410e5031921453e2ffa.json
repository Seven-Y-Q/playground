{"id":"RX4M","dependencies":[{"name":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1584771267802},{"name":"../parser/htmlScanner.js","loc":{"line":5,"column":30},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlHover.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/parser/htmlScanner.js"},{"name":"./../_deps/vscode-languageserver-types/main.js","loc":{"line":6,"column":27},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlHover.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/_deps/vscode-languageserver-types/main.js"},{"name":"../htmlLanguageTypes.js","loc":{"line":7,"column":26},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlHover.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/htmlLanguageTypes.js"},{"name":"../languageFacts/builtinDataProviders.js","loc":{"line":8,"column":36},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlHover.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/languageFacts/builtinDataProviders.js"},{"name":"../utils/object.js","loc":{"line":9,"column":26},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlHover.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/utils/object.js"},{"name":"../languageFacts/dataProvider.js","loc":{"line":10,"column":38},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlHover.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/languageFacts/dataProvider.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.HTMLHover=void 0;var t=require(\"../parser/htmlScanner.js\"),e=require(\"./../_deps/vscode-languageserver-types/main.js\"),n=require(\"../htmlLanguageTypes.js\"),r=require(\"../languageFacts/builtinDataProviders.js\"),o=require(\"../utils/object.js\"),a=require(\"../languageFacts/dataProvider.js\"),i=function(){function i(t){this.clientCapabilities=t}return i.prototype.doHover=function(e,o,i){var s=this.convertContents.bind(this),c=this.doesSupportMarkdown(),l=e.offsetAt(o),f=i.findNodeAt(l);if(!f||!f.tag)return null;var p=(0,r.getAllDataProviders)().filter(function(t){return t.isApplicable(e.languageId)});function v(t,e,n){t=t.toLowerCase();for(var r=function(r){var o=null;if(r.provideTags().forEach(function(r){if(r.name.toLowerCase()===t.toLowerCase()){var i=n?\"<\"+t+\">\":\"</\"+t+\">\",u=(0,a.generateDocumentation)(r,c);u.value=\"```html\\n\"+i+\"\\n```\\n\"+u.value,o={contents:u,range:e}}}),o)return o.contents=s(o.contents),{value:o}},o=0,i=p;o<i.length;o++){var u=r(i[o]);if(\"object\"==typeof u)return u.value}return null}function d(r,o){for(var a=(0,t.createScanner)(e.getText(),o),i=a.scan();i!==n.TokenType.EOS&&(a.getTokenEnd()<l||a.getTokenEnd()===l&&i!==r);)i=a.scan();return i===r&&l<=a.getTokenEnd()?{start:e.positionAt(a.getTokenOffset()),end:e.positionAt(a.getTokenEnd())}:null}if(f.endTagStart&&l>=f.endTagStart){var g=d(n.TokenType.EndTag,f.endTagStart);return g?v(f.tag,g,!1):null}var T=d(n.TokenType.StartTag,f.start);if(T)return v(f.tag,T,!0);var h=d(n.TokenType.AttributeName,f.start);if(h)return function(t,e,n){t=t.toLowerCase();for(var r=function(r){var o=null;if(r.provideAttributes(t).forEach(function(t){e===t.name&&t.description&&(o={contents:(0,a.generateDocumentation)(t,c),range:n})}),o)return o.contents=s(o.contents),{value:o}},o=0,i=p;o<i.length;o++){var u=r(i[o]);if(\"object\"==typeof u)return u.value}return null}(y=f.tag,e.getText(h),h);var k=d(n.TokenType.AttributeValue,f.start);if(k){var y=f.tag,m=u(e.getText(k)),b=function(r,o){for(var a=(0,t.createScanner)(e.getText(),r),i=a.scan(),u=void 0;i!==n.TokenType.EOS&&a.getTokenEnd()<=o;)(i=a.scan())===n.TokenType.AttributeName&&(u=a.getTokenText());return u}(f.start,e.offsetAt(k.start));if(b)return function(t,e,n,r){t=t.toLowerCase();for(var o=function(o){var i=null;if(o.provideValues(t,e).forEach(function(t){n===t.name&&t.description&&(i={contents:(0,a.generateDocumentation)(t,c),range:r})}),i)return i.contents=s(i.contents),{value:i}},i=0,u=p;i<u.length;i++){var l=o(u[i]);if(\"object\"==typeof l)return l.value}return null}(y,b,m,k)}return null},i.prototype.convertContents=function(t){if(!this.doesSupportMarkdown()){if(\"string\"==typeof t)return t;if(\"kind\"in t)return{kind:\"plaintext\",value:t.value};if(!Array.isArray(t))return t.value;t.map(function(t){return\"string\"==typeof t?t:t.value})}return t},i.prototype.doesSupportMarkdown=function(){if(!(0,o.isDefined)(this.supportsMarkdown)){if(!(0,o.isDefined)(this.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;var t=this.clientCapabilities&&this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.hover;this.supportsMarkdown=t&&t.contentFormat&&Array.isArray(t.contentFormat)&&-1!==t.contentFormat.indexOf(e.MarkupKind.Markdown)}return this.supportsMarkdown},i}();function u(t){return t.length<=1?t.replace(/['\"]/,\"\"):(\"'\"!==t[0]&&'\"'!==t[0]||(t=t.slice(1)),\"'\"!==t[t.length-1]&&'\"'!==t[t.length-1]||(t=t.slice(0,-1)),t)}exports.HTMLHover=i;"},"sourceMaps":null,"error":null,"hash":"ee3fdd052827ef1f705b76aeafe32f4d","cacheData":{"env":{}}}