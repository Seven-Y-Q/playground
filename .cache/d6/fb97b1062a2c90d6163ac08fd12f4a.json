{"id":"Kpts","dependencies":[{"name":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1584771267802},{"name":"../parser/cssNodes.js","loc":{"line":6,"column":23},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssNodes.js"},{"name":"../parser/cssSymbolScope.js","loc":{"line":7,"column":24},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssSymbolScope.js"},{"name":"../languageFacts/facts.js","loc":{"line":8,"column":31},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/languageFacts/facts.js"},{"name":"../utils/strings.js","loc":{"line":9,"column":25},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/utils/strings.js"},{"name":"../cssLanguageTypes.js","loc":{"line":10,"column":111},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/cssLanguageTypes.js"},{"name":"./../../../fillers/vscode-nls.js","loc":{"line":11,"column":21},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/fillers/vscode-nls.js"},{"name":"../utils/objects.js","loc":{"line":12,"column":26},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/utils/objects.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.CSSCompletion=void 0;var t=l(require(\"../parser/cssNodes.js\")),e=require(\"../parser/cssSymbolScope.js\"),o=l(require(\"../languageFacts/facts.js\")),i=l(require(\"../utils/strings.js\")),n=require(\"../cssLanguageTypes.js\"),r=l(require(\"./../../../fillers/vscode-nls.js\")),s=require(\"../utils/objects.js\");function a(){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function l(t){if(t&&t.__esModule)return t;if(null===t||\"object\"!=typeof t&&\"function\"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=i?Object.getOwnPropertyDescriptor(t,n):null;r&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=t[n]}return o.default=t,e&&e.set(t,o),o}var p,u=r.loadMessageBundle(),c=n.InsertTextFormat.Snippet;!function(t){t.Enums=\" \",t.Normal=\"d\",t.VendorPrefixed=\"x\",t.Term=\"y\",t.Variable=\"z\"}(p||(p={}));var f=function(){function r(e,o){void 0===e&&(e=null),this.variablePrefix=e,this.clientCapabilities=o,this.completionParticipants=[],this.valueTypes=[t.NodeType.Identifier,t.NodeType.Value,t.NodeType.StringLiteral,t.NodeType.URILiteral,t.NodeType.NumericValue,t.NodeType.HexColorValue,t.NodeType.VariableName,t.NodeType.Prio]}return r.prototype.configure=function(t){this.settings=t},r.prototype.getSymbolContext=function(){return this.symbolContext||(this.symbolContext=new e.Symbols(this.styleSheet)),this.symbolContext},r.prototype.setCompletionParticipants=function(t){this.completionParticipants=t||[]},r.prototype.doComplete=function(e,o,i){this.offset=e.offsetAt(o),this.position=o,this.currentWord=x(e,this.offset),this.defaultReplaceRange=n.Range.create(n.Position.create(this.position.line,this.position.character-this.currentWord.length),this.position),this.textDocument=e,this.styleSheet=i;try{var r={isIncomplete:!1,items:[]};this.nodePath=t.getNodePath(this.styleSheet,this.offset);for(var s=this.nodePath.length-1;s>=0;s--){var a=this.nodePath[s];if(a instanceof t.Property)this.getCompletionsForDeclarationProperty(a.getParent(),r);else if(a instanceof t.Expression)a.parent instanceof t.Interpolation?this.getVariableProposals(null,r):this.getCompletionsForExpression(a,r);else if(a instanceof t.SimpleSelector){var l=a.findAParent(t.NodeType.ExtendsReference,t.NodeType.Ruleset);if(l)if(l.type===t.NodeType.ExtendsReference)this.getCompletionsForExtendsReference(l,a,r);else{var p=l;this.getCompletionsForSelector(p,p&&p.isNested(),r)}}else if(a instanceof t.FunctionArgument)this.getCompletionsForFunctionArgument(a,a.getParent(),r);else if(a instanceof t.Declarations)this.getCompletionsForDeclarations(a,r);else if(a instanceof t.VariableDeclaration)this.getCompletionsForVariableDeclaration(a,r);else if(a instanceof t.RuleSet)this.getCompletionsForRuleSet(a,r);else if(a instanceof t.Interpolation)this.getCompletionsForInterpolation(a,r);else if(a instanceof t.FunctionDeclaration)this.getCompletionsForFunctionDeclaration(a,r);else if(a instanceof t.MixinReference)this.getCompletionsForMixinReference(a,r);else if(a instanceof t.Function)this.getCompletionsForFunctionArgument(null,a,r);else if(a instanceof t.Supports)this.getCompletionsForSupports(a,r);else if(a instanceof t.SupportsCondition)this.getCompletionsForSupportsCondition(a,r);else if(a instanceof t.ExtendsReference)this.getCompletionsForExtendsReference(a,null,r);else if(a.type===t.NodeType.URILiteral)this.getCompletionForUriLiteralValue(a,r);else if(null===a.parent)this.getCompletionForTopLevel(r);else{if(a.type!==t.NodeType.StringLiteral||!this.isImportPathParent(a.parent.type))continue;this.getCompletionForImportPath(a,r)}if(r.items.length>0||this.offset>a.offset)return this.finalize(r)}return this.getCompletionsForStylesheet(r),0===r.items.length&&this.variablePrefix&&0===this.currentWord.indexOf(this.variablePrefix)&&this.getVariableProposals(null,r),this.finalize(r)}finally{this.position=null,this.currentWord=null,this.textDocument=null,this.styleSheet=null,this.symbolContext=null,this.defaultReplaceRange=null,this.nodePath=null}},r.prototype.isImportPathParent=function(e){return e===t.NodeType.Import},r.prototype.finalize=function(t){return t.items.some(function(t){return!!t.sortText||\"-\"===t.label[0]})&&t.items.forEach(function(t,e){t.sortText?\"-\"===t.label[0]?t.sortText+=p.VendorPrefixed+\"_\"+d(e):t.sortText+=p.Normal+\"_\"+d(e):\"-\"===t.label[0]?t.sortText=p.VendorPrefixed+\"_\"+d(e):t.sortText=p.Normal+\"_\"+d(e)}),t},r.prototype.findInNodePath=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=this.nodePath.length-1;o>=0;o--){var i=this.nodePath[o];if(-1!==t.indexOf(i.type))return i}return null},r.prototype.getCompletionsForDeclarationProperty=function(t,e){return this.getPropertyProposals(t,e)},r.prototype.getPropertyProposals=function(t,e){var r=this,a=this.isTriggerPropertyValueCompletionEnabled,l=this.isCompletePropertyWithSemicolonEnabled;return o.cssDataManager.getProperties().forEach(function(u){var c,f,d=!1;t?(c=r.getCompletionRange(t.getProperty()),f=u.name,(0,s.isDefined)(t.colonPosition)||(f+=\": \",d=!0)):(c=r.getCompletionRange(null),f=u.name+\": \",d=!0),!t&&l&&(f+=\"$0;\"),t&&!t.semicolonPosition&&l&&r.offset>=r.textDocument.offsetAt(c.end)&&(f+=\"$0;\");var h={label:u.name,documentation:o.getEntryDescription(u,r.doesSupportMarkdown()),tags:m(u)?[n.CompletionItemTag.Deprecated]:[],textEdit:n.TextEdit.replace(c,f),insertTextFormat:n.InsertTextFormat.Snippet,kind:n.CompletionItemKind.Property};u.restrictions||(d=!1),a&&d&&(h.command={title:\"Suggest\",command:\"editor.action.triggerSuggest\"}),i.startsWith(u.name,\"-\")&&(h.sortText=p.VendorPrefixed),e.items.push(h)}),this.completionParticipants.forEach(function(t){t.onCssProperty&&t.onCssProperty({propertyName:r.currentWord,range:r.defaultReplaceRange})}),e},Object.defineProperty(r.prototype,\"isTriggerPropertyValueCompletionEnabled\",{get:function(){return!this.settings||!this.settings.completion||void 0===this.settings.completion.triggerPropertyValueCompletion||this.settings.completion.triggerPropertyValueCompletion},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"isCompletePropertyWithSemicolonEnabled\",{get:function(){return!this.settings||!this.settings.completion||void 0===this.settings.completion.completePropertyWithSemicolon||this.settings.completion.completePropertyWithSemicolon},enumerable:!0,configurable:!0}),r.prototype.getCompletionsForDeclarationValue=function(t,e){for(var i=this,r=t.getFullPropertyName(),s=o.cssDataManager.getProperty(r),a=t.getValue()||null;a&&a.hasChildren();)a=a.findChildAtOffset(this.offset,!1);if(this.completionParticipants.forEach(function(t){t.onCssPropertyValue&&t.onCssPropertyValue({propertyName:r,propertyValue:i.currentWord,range:i.getCompletionRange(a)})}),s){if(s.restrictions)for(var l=0,p=s.restrictions;l<p.length;l++){switch(p[l]){case\"color\":this.getColorProposals(s,a,e);break;case\"position\":this.getPositionProposals(s,a,e);break;case\"repeat\":this.getRepeatStyleProposals(s,a,e);break;case\"line-style\":this.getLineStyleProposals(s,a,e);break;case\"line-width\":this.getLineWidthProposals(s,a,e);break;case\"geometry-box\":this.getGeometryBoxProposals(s,a,e);break;case\"box\":this.getBoxProposals(s,a,e);break;case\"image\":this.getImageProposals(s,a,e);break;case\"timing-function\":this.getTimingFunctionProposals(s,a,e);break;case\"shape\":this.getBasicShapeProposals(s,a,e)}}this.getValueEnumProposals(s,a,e),this.getCSSWideKeywordProposals(s,a,e),this.getUnitProposals(s,a,e)}else for(var u=0,c=y(this.styleSheet,t).getEntries();u<c.length;u++){var f=c[u];e.items.push({label:f,textEdit:n.TextEdit.replace(this.getCompletionRange(a),f),kind:n.CompletionItemKind.Value})}return this.getVariableProposals(a,e),this.getTermProposals(s,a,e),e},r.prototype.getValueEnumProposals=function(t,e,r){if(t.values)for(var s=0,a=t.values;s<a.length;s++){var l=a[s],u=l.name,f=void 0;if(i.endsWith(u,\")\")){var d=u.lastIndexOf(\"(\");-1!==d&&(u=u.substr(0,d)+\"($1)\",f=c)}var h={label:l.name,documentation:o.getEntryDescription(l,this.doesSupportMarkdown()),tags:m(t)?[n.CompletionItemTag.Deprecated]:[],textEdit:n.TextEdit.replace(this.getCompletionRange(e),u),sortText:p.Enums,kind:n.CompletionItemKind.Value,insertTextFormat:f};r.items.push(h)}return r},r.prototype.getCSSWideKeywordProposals=function(t,e,i){for(var r in o.cssWideKeywords)i.items.push({label:r,documentation:o.cssWideKeywords[r],textEdit:n.TextEdit.replace(this.getCompletionRange(e),r),kind:n.CompletionItemKind.Value});return i},r.prototype.getCompletionsForInterpolation=function(t,e){return this.offset>=t.offset+2&&this.getVariableProposals(null,e),e},r.prototype.getVariableProposals=function(e,o){for(var r=0,s=this.getSymbolContext().findSymbolsAtOffset(this.offset,t.ReferenceType.Variable);r<s.length;r++){var a=s[r],l=i.startsWith(a.name,\"--\")?\"var(\"+a.name+\")\":a.name,c={label:a.name,documentation:a.value?i.getLimitedString(a.value):a.value,textEdit:n.TextEdit.replace(this.getCompletionRange(e),l),kind:n.CompletionItemKind.Variable,sortText:p.Variable};if(\"string\"==typeof c.documentation&&P(c.documentation)&&(c.kind=n.CompletionItemKind.Color),a.node.type===t.NodeType.FunctionParameter){var f=a.node.getParent();f.type===t.NodeType.MixinDeclaration&&(c.detail=u(\"completion.argument\",\"argument from '{0}'\",f.getName()))}o.items.push(c)}return o},r.prototype.getVariableProposalsForCSSVarFunction=function(e){for(var o=this.getSymbolContext().findSymbolsAtOffset(this.offset,t.ReferenceType.Variable),r=0,s=o=o.filter(function(t){return i.startsWith(t.name,\"--\")});r<s.length;r++){var a=s[r],l={label:a.name,documentation:a.value?i.getLimitedString(a.value):a.value,textEdit:n.TextEdit.replace(this.getCompletionRange(null),a.name),kind:n.CompletionItemKind.Variable};\"string\"==typeof l.documentation&&P(l.documentation)&&(l.kind=n.CompletionItemKind.Color),e.items.push(l)}return e},r.prototype.getUnitProposals=function(e,i,r){var s=\"0\";if(this.currentWord.length>0){var a=this.currentWord.match(/^-?\\d[\\.\\d+]*/);a&&(s=a[0],r.isIncomplete=s.length===this.currentWord.length)}else 0===this.currentWord.length&&(r.isIncomplete=!0);if(i&&i.parent&&i.parent.type===t.NodeType.Term&&(i=i.getParent()),e.restrictions)for(var l=0,p=e.restrictions;l<p.length;l++){var u=p[l],c=o.units[u];if(c)for(var f=0,m=c;f<m.length;f++){var d=s+m[f];r.items.push({label:d,textEdit:n.TextEdit.replace(this.getCompletionRange(i),d),kind:n.CompletionItemKind.Unit})}}return r},r.prototype.getCompletionRange=function(t){if(t&&t.offset<=this.offset&&this.offset<=t.end){var e=-1!==t.end?this.textDocument.positionAt(t.end):this.position,o=this.textDocument.positionAt(t.offset);if(o.line===e.line)return n.Range.create(o,e)}return this.defaultReplaceRange},r.prototype.getColorProposals=function(t,e,i){for(var r in o.colors)i.items.push({label:r,documentation:o.colors[r],textEdit:n.TextEdit.replace(this.getCompletionRange(e),r),kind:n.CompletionItemKind.Color});for(var r in o.colorKeywords)i.items.push({label:r,documentation:o.colorKeywords[r],textEdit:n.TextEdit.replace(this.getCompletionRange(e),r),kind:n.CompletionItemKind.Value});var s=new h;this.styleSheet.acceptVisitor(new C(s,this.offset));for(var a=0,l=s.getEntries();a<l.length;a++){r=l[a];i.items.push({label:r,textEdit:n.TextEdit.replace(this.getCompletionRange(e),r),kind:n.CompletionItemKind.Color})}for(var p=function(t){var o=1,r=t.func.replace(/\\[?\\$(\\w+)\\]?/g,function(t,e){return\"${\"+o+++\":\"+e+\"}\"});i.items.push({label:t.func.substr(0,t.func.indexOf(\"(\")),detail:t.func,documentation:t.desc,textEdit:n.TextEdit.replace(u.getCompletionRange(e),r),insertTextFormat:c,kind:n.CompletionItemKind.Function})},u=this,f=0,m=o.colorFunctions;f<m.length;f++){p(m[f])}return i},r.prototype.getPositionProposals=function(t,e,i){for(var r in o.positionKeywords)i.items.push({label:r,documentation:o.positionKeywords[r],textEdit:n.TextEdit.replace(this.getCompletionRange(e),r),kind:n.CompletionItemKind.Value});return i},r.prototype.getRepeatStyleProposals=function(t,e,i){for(var r in o.repeatStyleKeywords)i.items.push({label:r,documentation:o.repeatStyleKeywords[r],textEdit:n.TextEdit.replace(this.getCompletionRange(e),r),kind:n.CompletionItemKind.Value});return i},r.prototype.getLineStyleProposals=function(t,e,i){for(var r in o.lineStyleKeywords)i.items.push({label:r,documentation:o.lineStyleKeywords[r],textEdit:n.TextEdit.replace(this.getCompletionRange(e),r),kind:n.CompletionItemKind.Value});return i},r.prototype.getLineWidthProposals=function(t,e,i){for(var r=0,s=o.lineWidthKeywords;r<s.length;r++){var a=s[r];i.items.push({label:a,textEdit:n.TextEdit.replace(this.getCompletionRange(e),a),kind:n.CompletionItemKind.Value})}return i},r.prototype.getGeometryBoxProposals=function(t,e,i){for(var r in o.geometryBoxKeywords)i.items.push({label:r,documentation:o.geometryBoxKeywords[r],textEdit:n.TextEdit.replace(this.getCompletionRange(e),r),kind:n.CompletionItemKind.Value});return i},r.prototype.getBoxProposals=function(t,e,i){for(var r in o.boxKeywords)i.items.push({label:r,documentation:o.boxKeywords[r],textEdit:n.TextEdit.replace(this.getCompletionRange(e),r),kind:n.CompletionItemKind.Value});return i},r.prototype.getImageProposals=function(t,e,i){for(var r in o.imageFunctions){var s=g(r);i.items.push({label:r,documentation:o.imageFunctions[r],textEdit:n.TextEdit.replace(this.getCompletionRange(e),s),kind:n.CompletionItemKind.Function,insertTextFormat:r!==s?c:void 0})}return i},r.prototype.getTimingFunctionProposals=function(t,e,i){for(var r in o.transitionTimingFunctions){var s=g(r);i.items.push({label:r,documentation:o.transitionTimingFunctions[r],textEdit:n.TextEdit.replace(this.getCompletionRange(e),s),kind:n.CompletionItemKind.Function,insertTextFormat:r!==s?c:void 0})}return i},r.prototype.getBasicShapeProposals=function(t,e,i){for(var r in o.basicShapeFunctions){var s=g(r);i.items.push({label:r,documentation:o.basicShapeFunctions[r],textEdit:n.TextEdit.replace(this.getCompletionRange(e),s),kind:n.CompletionItemKind.Function,insertTextFormat:r!==s?c:void 0})}return i},r.prototype.getCompletionsForStylesheet=function(e){var o=this.styleSheet.findFirstChildBeforeOffset(this.offset);return o?o instanceof t.RuleSet?this.getCompletionsForRuleSet(o,e):o instanceof t.Supports?this.getCompletionsForSupports(o,e):e:this.getCompletionForTopLevel(e)},r.prototype.getCompletionForTopLevel=function(t){var e=this;return o.cssDataManager.getAtDirectives().forEach(function(i){t.items.push({label:i.name,textEdit:n.TextEdit.replace(e.getCompletionRange(null),i.name),documentation:o.getEntryDescription(i,e.doesSupportMarkdown()),tags:m(i)?[n.CompletionItemTag.Deprecated]:[],kind:n.CompletionItemKind.Keyword})}),this.getCompletionsForSelector(null,!1,t),t},r.prototype.getCompletionsForRuleSet=function(t,e){var o=t.getDeclarations();return o&&o.endsWith(\"}\")&&this.offset>=o.end?this.getCompletionForTopLevel(e):!o||this.offset<=o.offset?this.getCompletionsForSelector(t,t.isNested(),e):this.getCompletionsForDeclarations(t.getDeclarations(),e)},r.prototype.getCompletionsForSelector=function(e,r,s){var a=this,l=this.findInNodePath(t.NodeType.PseudoSelector,t.NodeType.IdentifierSelector,t.NodeType.ClassSelector,t.NodeType.ElementNameSelector);if(!l&&this.offset-this.currentWord.length>0&&\":\"===this.textDocument.getText()[this.offset-this.currentWord.length-1]&&(this.currentWord=\":\"+this.currentWord,this.defaultReplaceRange=n.Range.create(n.Position.create(this.position.line,this.position.character-this.currentWord.length),this.position)),o.cssDataManager.getPseudoClasses().forEach(function(t){var e=g(t.name),r={label:t.name,textEdit:n.TextEdit.replace(a.getCompletionRange(l),e),documentation:o.getEntryDescription(t,a.doesSupportMarkdown()),tags:m(t)?[n.CompletionItemTag.Deprecated]:[],kind:n.CompletionItemKind.Function,insertTextFormat:t.name!==e?c:void 0};i.startsWith(t.name,\":-\")&&(r.sortText=p.VendorPrefixed),s.items.push(r)}),o.cssDataManager.getPseudoElements().forEach(function(t){var e=g(t.name),r={label:t.name,textEdit:n.TextEdit.replace(a.getCompletionRange(l),e),documentation:o.getEntryDescription(t,a.doesSupportMarkdown()),tags:m(t)?[n.CompletionItemTag.Deprecated]:[],kind:n.CompletionItemKind.Function,insertTextFormat:t.name!==e?c:void 0};i.startsWith(t.name,\"::-\")&&(r.sortText=p.VendorPrefixed),s.items.push(r)}),!r){for(var u=0,f=o.html5Tags;u<f.length;u++){var d=f[u];s.items.push({label:d,textEdit:n.TextEdit.replace(this.getCompletionRange(l),d),kind:n.CompletionItemKind.Keyword})}for(var h=0,y=o.svgElements;h<y.length;h++){d=y[h];s.items.push({label:d,textEdit:n.TextEdit.replace(this.getCompletionRange(l),d),kind:n.CompletionItemKind.Keyword})}}var C={};C[this.currentWord]=!0;var x=this.textDocument.getText();if(this.styleSheet.accept(function(e){if(e.type===t.NodeType.SimpleSelector&&e.length>0){var o=x.substr(e.offset,e.length);return\".\"!==o.charAt(0)||C[o]||(C[o]=!0,s.items.push({label:o,textEdit:n.TextEdit.replace(a.getCompletionRange(l),o),kind:n.CompletionItemKind.Keyword})),!1}return!0}),e&&e.isNested()){var P=e.getSelectors().findFirstChildBeforeOffset(this.offset);P&&0===e.getSelectors().getChildren().indexOf(P)&&this.getPropertyProposals(null,s)}return s},r.prototype.getCompletionsForDeclarations=function(e,o){if(!e||this.offset===e.offset)return o;var i=e.findFirstChildBeforeOffset(this.offset);if(!i)return this.getCompletionsForDeclarationProperty(null,o);if(i instanceof t.AbstractDeclaration){var n=i;if(!(0,s.isDefined)(n.colonPosition)||this.offset<=n.colonPosition)return this.getCompletionsForDeclarationProperty(n,o);if((0,s.isDefined)(n.semicolonPosition)&&n.semicolonPosition<this.offset)return this.offset===n.semicolonPosition+1?o:this.getCompletionsForDeclarationProperty(null,o);if(n instanceof t.Declaration)return this.getCompletionsForDeclarationValue(n,o)}else i instanceof t.ExtendsReference?this.getCompletionsForExtendsReference(i,null,o):this.currentWord&&\"@\"===this.currentWord[0]&&this.getCompletionsForDeclarationProperty(null,o);return o},r.prototype.getCompletionsForVariableDeclaration=function(t,e){return this.offset&&(0,s.isDefined)(t.colonPosition)&&this.offset>t.colonPosition&&this.getVariableProposals(t.getValue(),e),e},r.prototype.getCompletionsForExpression=function(e,o){var i=e.getParent();if(i instanceof t.FunctionArgument)return this.getCompletionsForFunctionArgument(i,i.getParent(),o),o;var n=e.findParent(t.NodeType.Declaration);if(!n)return this.getTermProposals(null,null,o),o;var r=e.findChildAtOffset(this.offset,!0);return r?r instanceof t.NumericValue||r instanceof t.Identifier?this.getCompletionsForDeclarationValue(n,o):o:this.getCompletionsForDeclarationValue(n,o)},r.prototype.getCompletionsForFunctionArgument=function(t,e,o){var i=e.getIdentifier();return i&&i.matches(\"var\")&&(e.getArguments().hasChildren()&&e.getArguments().getChild(0)!==t||this.getVariableProposalsForCSSVarFunction(o)),o},r.prototype.getCompletionsForFunctionDeclaration=function(t,e){var o=t.getDeclarations();return o&&this.offset>o.offset&&this.offset<o.end&&this.getTermProposals(null,null,e),e},r.prototype.getCompletionsForMixinReference=function(e,o){for(var i=0,n=this.getSymbolContext().findSymbolsAtOffset(this.offset,t.ReferenceType.Mixin);i<n.length;i++){var r=n[i];r.node instanceof t.MixinDeclaration&&o.items.push(this.makeTermProposal(r,r.node.getParameters(),null))}return o},r.prototype.getTermProposals=function(e,o,i){for(var n=0,r=this.getSymbolContext().findSymbolsAtOffset(this.offset,t.ReferenceType.Function);n<r.length;n++){var s=r[n];s.node instanceof t.FunctionDeclaration&&i.items.push(this.makeTermProposal(s,s.node.getParameters(),o))}return i},r.prototype.makeTermProposal=function(e,o,i){e.node;var r=o.getChildren().map(function(e){return e instanceof t.FunctionParameter?e.getName():e.getText()}),s=e.name+\"(\"+r.map(function(t,e){return\"${\"+(e+1)+\":\"+t+\"}\"}).join(\", \")+\")\";return{label:e.name,detail:e.name+\"(\"+r.join(\", \")+\")\",textEdit:n.TextEdit.replace(this.getCompletionRange(i),s),insertTextFormat:c,kind:n.CompletionItemKind.Function,sortText:p.Term}},r.prototype.getCompletionsForSupportsCondition=function(e,o){var i=e.findFirstChildBeforeOffset(this.offset);if(i){if(i instanceof t.Declaration)return!(0,s.isDefined)(i.colonPosition)||this.offset<=i.colonPosition?this.getCompletionsForDeclarationProperty(i,o):this.getCompletionsForDeclarationValue(i,o);if(i instanceof t.SupportsCondition)return this.getCompletionsForSupportsCondition(i,o)}return(0,s.isDefined)(e.lParent)&&this.offset>e.lParent&&(!(0,s.isDefined)(e.rParent)||this.offset<=e.rParent)?this.getCompletionsForDeclarationProperty(null,o):o},r.prototype.getCompletionsForSupports=function(e,o){var i=e.getDeclarations();if(!i||this.offset<=i.offset){var n=e.findFirstChildBeforeOffset(this.offset);return n instanceof t.SupportsCondition?this.getCompletionsForSupportsCondition(n,o):o}return this.getCompletionForTopLevel(o)},r.prototype.getCompletionsForExtendsReference=function(t,e,o){return o},r.prototype.getCompletionForUriLiteralValue=function(t,e){var o,i,r;if(t.hasChildren()){var s=t.getChild(0);o=s.getText(),i=this.position,r=this.getCompletionRange(s)}else{o=\"\",i=this.position;var a=this.textDocument.positionAt(t.offset+\"url(\".length);r=n.Range.create(a,a)}return this.completionParticipants.forEach(function(t){t.onCssURILiteralValue&&t.onCssURILiteralValue({uriValue:o,position:i,range:r})}),e},r.prototype.getCompletionForImportPath=function(t,e){var o=this;return this.completionParticipants.forEach(function(e){e.onCssImportPath&&e.onCssImportPath({pathValue:t.getText(),position:o.position,range:o.getCompletionRange(t)})}),e},r.prototype.doesSupportMarkdown=function(){if(!(0,s.isDefined)(this.supportsMarkdown)){if(!(0,s.isDefined)(this.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;var t=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsMarkdown=t&&t.completionItem&&Array.isArray(t.completionItem.documentationFormat)&&-1!==t.completionItem.documentationFormat.indexOf(n.MarkupKind.Markdown)}return this.supportsMarkdown},r}();function m(t){return!(!t.status||\"nonstandard\"!==t.status&&\"obsolete\"!==t.status)}function d(t){var e=t.toString();switch(e.length){case 4:return e;case 3:return\"0\"+e;case 2:return\"00\"+e;case 1:return\"000\"+e;default:return\"0000\"}}exports.CSSCompletion=f;var h=function(){function t(){this.entries={}}return t.prototype.add=function(t){this.entries[t]=!0},t.prototype.getEntries=function(){return Object.keys(this.entries)},t}();function g(t){return t.replace(/\\(\\)$/,\"($1)\")}function y(e,o){var i=o.getFullPropertyName(),n=new h;function r(e){return(e instanceof t.Identifier||e instanceof t.NumericValue||e instanceof t.HexColorValue)&&n.add(e.getText()),!0}return e.accept(function(e){if(e instanceof t.Declaration&&e!==o&&(s=e.getFullPropertyName(),i===s)){var n=e.getValue();n&&n.accept(r)}var s;return!0}),n}var C=function(){function e(t,e){this.entries=t,this.currentOffset=e}return e.prototype.visitNode=function(e){return(e instanceof t.HexColorValue||e instanceof t.Function&&o.isColorConstructor(e))&&(this.currentOffset<e.offset||e.end<this.currentOffset)&&this.entries.add(e.getText()),!0},e}();function x(t,e){for(var o=e-1,i=t.getText();o>=0&&-1===' \\t\\n\\r\":{[()]},*>+'.indexOf(i.charAt(o));)o--;return i.substring(o+1,e)}function P(t){return t.toLowerCase()in o.colors||/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}"},"sourceMaps":null,"error":null,"hash":"87839e4c313edda6b3bde41629797ede","cacheData":{"env":{}}}