{"id":"UH1L","dependencies":[{"name":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1584771267802},{"name":"./jsonSchemaService.js","loc":{"line":5,"column":33},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonValidation.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonSchemaService.js"},{"name":"../jsonLanguageTypes.js","loc":{"line":6,"column":65},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonValidation.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/jsonLanguageTypes.js"},{"name":"./../../../fillers/vscode-nls.js","loc":{"line":7,"column":21},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonValidation.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/json/fillers/vscode-nls.js"},{"name":"../utils/objects.js","loc":{"line":8,"column":26},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/services/jsonValidation.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/json/_deps/vscode-json-languageservice/utils/objects.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.JSONValidation=void 0;var e=require(\"./jsonSchemaService.js\"),r=require(\"../jsonLanguageTypes.js\"),t=n(require(\"./../../../fillers/vscode-nls.js\")),o=require(\"../utils/objects.js\");function i(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var r=i();if(r&&r.has(e))return r.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=o?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,r&&r.set(e,t),t}var a=t.loadMessageBundle(),s=function(){function t(e,r){this.jsonSchemaService=e,this.promise=r,this.validationEnabled=!0}return t.prototype.configure=function(e){e&&(this.validationEnabled=e.validate,this.commentSeverity=e.allowComments?void 0:r.DiagnosticSeverity.Error)},t.prototype.doValidation=function(t,o,i,n){var s=this;if(!this.validationEnabled)return this.promise.resolve([]);var v=[],m={},d=function(e){var r=e.range.start.line+\" \"+e.range.start.character+\" \"+e.message;m[r]||(m[r]=!0,v.push(e))},g=function(e){var n=i?u(i.trailingCommas):r.DiagnosticSeverity.Error,c=i?u(i.comments):s.commentSeverity;if(e){if(e.errors.length&&o.root){var m=o.root,g=\"object\"===m.type?m.properties[0]:null;if(g&&\"$schema\"===g.keyNode.value){var h=g.valueNode||g,p=r.Range.create(t.positionAt(h.offset),t.positionAt(h.offset+h.length));d(r.Diagnostic.create(p,e.errors[0],r.DiagnosticSeverity.Warning,r.ErrorCode.SchemaResolveError))}else{p=r.Range.create(t.positionAt(m.offset),t.positionAt(m.offset+1));d(r.Diagnostic.create(p,e.errors[0],r.DiagnosticSeverity.Warning,r.ErrorCode.SchemaResolveError))}}else{var y=o.validate(t,e.schema);y&&y.forEach(d)}l(e.schema)&&(c=void 0),f(e.schema)&&(n=void 0)}for(var S=0,j=o.syntaxErrors;S<j.length;S++){var C=j[S];if(C.code===r.ErrorCode.TrailingComma){if(\"number\"!=typeof n)continue;C.severity=n}d(C)}if(\"number\"==typeof c){var b=a(\"InvalidCommentToken\",\"Comments are not permitted in JSON.\");o.comments.forEach(function(e){d(r.Diagnostic.create(e,b,c,r.ErrorCode.CommentNotPermitted))})}return v};if(n){var h=n.id||\"schemaservice://untitled/\"+c++;return this.jsonSchemaService.resolveSchemaContent(new e.UnresolvedSchema(n),h,{}).then(function(e){return g(e)})}return this.jsonSchemaService.getSchemaForResource(t.uri,o).then(function(e){return g(e)})},t}();exports.JSONValidation=s;var c=0;function l(e){if(e&&\"object\"==typeof e){if((0,o.isBoolean)(e.allowComments))return e.allowComments;if(e.allOf)for(var r=0,t=e.allOf;r<t.length;r++){var i=l(t[r]);if((0,o.isBoolean)(i))return i}}}function f(e){if(e&&\"object\"==typeof e){if((0,o.isBoolean)(e.allowTrailingCommas))return e.allowTrailingCommas;if((0,o.isBoolean)(e.allowsTrailingCommas))return e.allowsTrailingCommas;if(e.allOf)for(var r=0,t=e.allOf;r<t.length;r++){var i=f(t[r]);if((0,o.isBoolean)(i))return i}}}function u(e){switch(e){case\"error\":return r.DiagnosticSeverity.Error;case\"warning\":return r.DiagnosticSeverity.Warning;case\"ignore\":return}}"},"sourceMaps":null,"error":null,"hash":"26249e004019d05b98152751b64f8c4e","cacheData":{"env":{}}}