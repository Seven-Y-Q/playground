{"id":"rehe","dependencies":[{"name":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1584771267802},{"name":"./htmlScanner.js","loc":{"line":5,"column":30},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/parser/htmlParser.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/parser/htmlScanner.js"},{"name":"../utils/arrays.js","loc":{"line":6,"column":26},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/parser/htmlParser.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/utils/arrays.js"},{"name":"../htmlLanguageTypes.js","loc":{"line":7,"column":26},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/parser/htmlParser.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/htmlLanguageTypes.js"},{"name":"../languageFacts/fact.js","loc":{"line":8,"column":30},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/parser/htmlParser.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/languageFacts/fact.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.parse=i,exports.Node=void 0;var e=require(\"./htmlScanner.js\"),t=require(\"../utils/arrays.js\"),n=require(\"../htmlLanguageTypes.js\"),r=require(\"../languageFacts/fact.js\"),a=function(){function e(e,t,n,r){this.start=e,this.end=t,this.children=n,this.parent=r,this.closed=!1}return Object.defineProperty(e.prototype,\"attributeNames\",{get:function(){return this.attributes?Object.keys(this.attributes):[]},enumerable:!0,configurable:!0}),e.prototype.isSameTag=function(e){return this.tag&&e&&this.tag.length===e.length&&this.tag.toLowerCase()===e},Object.defineProperty(e.prototype,\"firstChild\",{get:function(){return this.children[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"lastChild\",{get:function(){return this.children.length?this.children[this.children.length-1]:void 0},enumerable:!0,configurable:!0}),e.prototype.findNodeBefore=function(e){var n=(0,t.findFirst)(this.children,function(t){return e<=t.start})-1;if(n>=0){var r=this.children[n];if(e>r.start){if(e<r.end)return r.findNodeBefore(e);var a=r.lastChild;return a&&a.end===r.end?r.findNodeBefore(e):r}}return this},e.prototype.findNodeAt=function(e){var n=(0,t.findFirst)(this.children,function(t){return e<=t.start})-1;if(n>=0){var r=this.children[n];if(e>r.start&&e<=r.end)return r.findNodeAt(e)}return this},e}();function i(t){for(var i=(0,e.createScanner)(t),o=new a(0,t.length,[],void 0),s=o,d=-1,l=null,u=null,c=i.scan();c!==n.TokenType.EOS;){switch(c){case n.TokenType.StartTagOpen:var f=new a(i.getTokenOffset(),t.length,[],s);s.children.push(f),s=f;break;case n.TokenType.StartTag:s.tag=i.getTokenText();break;case n.TokenType.StartTagClose:s.end=i.getTokenEnd(),s.startTagEnd=i.getTokenEnd(),s.tag&&(0,r.isVoidElement)(s.tag)&&s.parent&&(s.closed=!0,s=s.parent);break;case n.TokenType.StartTagSelfClose:s.parent&&(s.closed=!0,s.end=i.getTokenEnd(),s.startTagEnd=i.getTokenEnd(),s=s.parent);break;case n.TokenType.EndTagOpen:d=i.getTokenOffset(),l=null;break;case n.TokenType.EndTag:l=i.getTokenText().toLowerCase();break;case n.TokenType.EndTagClose:if(l){for(var T=s;!T.isSameTag(l)&&T.parent;)T=T.parent;if(T.parent){for(;s!==T;)s.end=d,s.closed=!1,s=s.parent;s.closed=!0,s.endTagStart=d,s.end=i.getTokenEnd(),s=s.parent}}break;case n.TokenType.AttributeName:u=i.getTokenText(),(p=s.attributes)||(s.attributes=p={}),p[u]=null;break;case n.TokenType.AttributeValue:var p,g=i.getTokenText();(p=s.attributes)&&u&&(p[u]=g,u=null)}c=i.scan()}for(;s.parent;)s.end=t.length,s.closed=!1,s=s.parent;return{roots:o.children,findNodeBefore:o.findNodeBefore.bind(o),findNodeAt:o.findNodeAt.bind(o)}}exports.Node=a;"},"sourceMaps":null,"error":null,"hash":"5545aad4ec8fbd7aadb598b0bc12cac8","cacheData":{"env":{}}}