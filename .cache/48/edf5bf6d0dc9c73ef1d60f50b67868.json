{"id":"NWjm","dependencies":[{"name":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1584771267802},{"name":"../../../base/common/uint.js","loc":{"line":5,"column":25},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/viewModel/prefixSumComputer.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/base/common/uint.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.PrefixSumComputer=exports.PrefixSumIndexOfResult=void 0;var e=require(\"../../../base/common/uint.js\"),t=function(){return function(e,t){this.index=e,this.remainder=t}}();exports.PrefixSumIndexOfResult=t;var i=function(){function i(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return i.prototype.insertValues=function(t,i){t=(0,e.toUint32)(t);var r=this.values,u=this.prefixSum,s=i.length;return 0!==s&&(this.values=new Uint32Array(r.length+s),this.values.set(r.subarray(0,t),0),this.values.set(r.subarray(t),t+s),this.values.set(i,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(u.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},i.prototype.changeValue=function(t,i){return t=(0,e.toUint32)(t),i=(0,e.toUint32)(i),this.values[t]!==i&&(this.values[t]=i,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)},i.prototype.removeValues=function(t,i){t=(0,e.toUint32)(t),i=(0,e.toUint32)(i);var r=this.values,u=this.prefixSum;if(t>=r.length)return!1;var s=r.length-t;return i>=s&&(i=s),0!==i&&(this.values=new Uint32Array(r.length-i),this.values.set(r.subarray(0,t),0),this.values.set(r.subarray(t+i),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(u.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},i.prototype.getTotalValue=function(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)},i.prototype.getAccumulatedValue=function(t){return t<0?0:(t=(0,e.toUint32)(t),this._getAccumulatedValue(t))},i.prototype._getAccumulatedValue=function(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];var t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(var i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]},i.prototype.getIndexOf=function(e){e=Math.floor(e),this.getTotalValue();for(var i=0,r=this.values.length-1,u=0,s=0,n=0;i<=r;)if(u=i+(r-i)/2|0,e<(n=(s=this.prefixSum[u])-this.values[u]))r=u-1;else{if(!(e>=s))break;i=u+1}return new t(u,e-n)},i}();exports.PrefixSumComputer=i;"},"sourceMaps":null,"error":null,"hash":"5480759d14dcb116c8b5e0ad17e36337","cacheData":{"env":{}}}