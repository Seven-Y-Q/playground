{"id":"o1j8","dependencies":[{"name":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1584771267802},{"name":"../parser/cssNodes.js","loc":{"line":19,"column":23},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/selectorPrinting.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssNodes.js"},{"name":"../parser/cssScanner.js","loc":{"line":20,"column":24},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/selectorPrinting.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssScanner.js"},{"name":"../languageFacts/facts.js","loc":{"line":21,"column":31},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/selectorPrinting.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/languageFacts/facts.js"},{"name":"./../../../fillers/vscode-nls.js","loc":{"line":22,"column":21},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/selectorPrinting.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/css/fillers/vscode-nls.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.toElement=f,exports.selectorToMarkedString=y,exports.simpleSelectorToMarkedString=b,exports.selectorToElement=x,exports.LabelElement=exports.RootElement=exports.Element=void 0;var e=o(require(\"../parser/cssNodes.js\")),t=require(\"../parser/cssScanner.js\"),r=o(require(\"../languageFacts/facts.js\")),n=o(require(\"./../../../fillers/vscode-nls.js\"));function i(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}var a=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),s=n.loadMessageBundle(),l=function(){function e(){this.parent=null,this.children=null,this.attributes=null}return e.prototype.findAttribute=function(e){if(this.attributes)for(var t=0,r=this.attributes;t<r.length;t++){var n=r[t];if(n.name===e)return n.value}return null},e.prototype.addChild=function(t){t instanceof e&&(t.parent=this),this.children||(this.children=[]),this.children.push(t)},e.prototype.append=function(e){if(this.attributes){var t=this.attributes[this.attributes.length-1];t.value=t.value+e}},e.prototype.prepend=function(e){if(this.attributes){var t=this.attributes[0];t.value=e+t.value}},e.prototype.findRoot=function(){for(var e=this;e.parent&&!(e.parent instanceof c);)e=e.parent;return e},e.prototype.removeChild=function(e){if(this.children){var t=this.children.indexOf(e);if(-1!==t)return this.children.splice(t,1),!0}return!1},e.prototype.addAttr=function(e,t){this.attributes||(this.attributes=[]);for(var r=0,n=this.attributes;r<n.length;r++){var i=n[r];if(i.name===e)return void(i.value+=\" \"+t)}this.attributes.push({name:e,value:t})},e.prototype.clone=function(t){void 0===t&&(t=!0);var r=new e;if(this.attributes){r.attributes=[];for(var n=0,i=this.attributes;n<i.length;n++){var o=i[n];r.addAttr(o.name,o.value)}}if(t&&this.children){r.children=[];for(var a=0;a<this.children.length;a++)r.addChild(this.children[a].clone())}return r},e.prototype.cloneWithParent=function(){var e=this.clone(!1);!this.parent||this.parent instanceof c||this.parent.cloneWithParent().addChild(e);return e},e}();exports.Element=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(l);exports.RootElement=c;var u=function(e){function t(t){var r=e.call(this)||this;return r.addAttr(\"name\",t),r}return a(t,e),t}(l);exports.LabelElement=u;var h,p=function(){function e(e){this.quote=e,this.result=[]}return e.prototype.print=function(e){return this.result=[],e instanceof c?e.children&&this.doPrint(e.children,0):this.doPrint([e],0),[{language:\"html\",value:this.result.join(\"\\n\")}]},e.prototype.doPrint=function(e,t){for(var r=0,n=e;r<n.length;r++){var i=n[r];this.doPrintElement(i,t),i.children&&this.doPrint(i.children,t+1)}},e.prototype.writeLine=function(e,t){var r=new Array(e+1).join(\"  \");this.result.push(r+t)},e.prototype.doPrintElement=function(e,t){var r=e.findAttribute(\"name\");if(e instanceof u||\"…\"===r)this.writeLine(t,r);else{var n=[\"<\"];if(r?n.push(r):n.push(\"element\"),e.attributes)for(var i=0,o=e.attributes;i<o.length;i++){var a=o[i];if(\"name\"!==a.name){n.push(\" \"),n.push(a.name);var s=a.value;s&&(n.push(\"=\"),n.push(h.ensure(s,this.quote)))}}n.push(\">\"),this.writeLine(t,n.join(\"\"))}},e}();!function(e){function t(e){var t=e.match(/^['\"](.*)[\"']$/);return t?t[1]:e}e.ensure=function(e,r){return r+t(e)+r},e.remove=t}(h||(h={}));var d=function(){return function(){this.id=0,this.attr=0,this.tag=0}}();function f(t,r){for(var n=new l,i=0,o=t.getChildren();i<o.length;i++){var a=o[i];switch(a.type){case e.NodeType.SelectorCombinator:if(r){var s=a.getText().split(\"&\");if(1===s.length){n.addAttr(\"name\",s[0]);break}if(n=r.cloneWithParent(),s[0])n.findRoot().prepend(s[0]);for(var c=1;c<s.length;c++){if(c>1){var u=r.cloneWithParent();n.addChild(u.findRoot()),n=u}n.append(s[c])}}break;case e.NodeType.SelectorPlaceholder:if(a.matches(\"@at-root\"))return n;case e.NodeType.ElementNameSelector:var p=a.getText();n.addAttr(\"name\",\"*\"===p?\"element\":v(p));break;case e.NodeType.ClassSelector:n.addAttr(\"class\",v(a.getText().substring(1)));break;case e.NodeType.IdentifierSelector:n.addAttr(\"id\",v(a.getText().substring(1)));break;case e.NodeType.MixinDeclaration:n.addAttr(\"class\",a.getName());break;case e.NodeType.PseudoSelector:n.addAttr(v(a.getText()),\"\");break;case e.NodeType.AttributeSelector:var d=a,f=d.getIdentifier();if(f){var m=d.getValue(),g=d.getOperator(),y=void 0;if(m&&g)switch(v(g.getText())){case\"|=\":y=h.remove(v(m.getText()))+\"-…\";break;case\"^=\":y=h.remove(v(m.getText()))+\"…\";break;case\"$=\":y=\"…\"+h.remove(v(m.getText()));break;case\"~=\":y=\" … \"+h.remove(v(m.getText()))+\" … \";break;case\"*=\":y=\"…\"+h.remove(v(m.getText()))+\"…\";break;default:y=h.remove(v(m.getText()))}n.addAttr(v(f.getText()),y)}}}return n}function v(e){var r=new t.Scanner;r.setSource(e);var n=r.scanUnquotedString();return n?n.text:e}function m(e){var t=e.match(/^::?([\\w-]+)/);return!!t&&!!r.cssDataManager.getPseudoElement(\"::\"+t[1])}function g(t){var r=new d;return function t(n){n.getChildren().forEach(function(n){switch(n.type){case e.NodeType.IdentifierSelector:r.id++;break;case e.NodeType.ClassSelector:case e.NodeType.AttributeSelector:r.attr++;break;case e.NodeType.ElementNameSelector:if(n.matches(\"*\"))break;r.tag++;break;case e.NodeType.PseudoSelector:var i=n.getText();if(m(i))r.tag++;else{if(i.match(/^:not/i))break;r.attr++}}n.getChildren().length>0&&t(n)})}(t),s(\"specificity\",\"[Selector Specificity](https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity): ({0}, {1}, {2})\",r.id,r.attr,r.tag)}function y(e){var t=x(e);if(t){var r=new p('\"').print(t);return r.push(g(e)),r}return[]}function b(e){var t=f(e),r=new p('\"').print(t);return r.push(g(e)),r}var S=function(){function t(e){this.prev=null,this.element=e}return t.prototype.processSelector=function(t){var r=null;if(!(this.element instanceof c)&&t.getChildren().some(function(t){return t.hasChildren()&&t.getChild(0).type===e.NodeType.SelectorCombinator})){var n=this.element.findRoot();n.parent instanceof c&&(r=this.element,this.element=n.parent,this.element.removeChild(n),this.prev=null)}for(var i=0,o=t.getChildren();i<o.length;i++){var a=o[i];if(a instanceof e.SimpleSelector){if(this.prev instanceof e.SimpleSelector){var s=new u(\"…\");this.element.addChild(s),this.element=s}else this.prev&&(this.prev.matches(\"+\")||this.prev.matches(\"~\"))&&this.element.parent&&(this.element=this.element.parent);this.prev&&this.prev.matches(\"~\")&&(this.element.addChild(f(a)),this.element.addChild(new u(\"⋮\")));var l=f(a,r),h=l.findRoot();this.element.addChild(h),this.element=l}(a instanceof e.SimpleSelector||a.type===e.NodeType.SelectorCombinatorParent||a.type===e.NodeType.SelectorCombinatorShadowPiercingDescendant||a.type===e.NodeType.SelectorCombinatorSibling||a.type===e.NodeType.SelectorCombinatorAllSiblings)&&(this.prev=a)}},t}();function T(t){switch(t.type){case e.NodeType.MixinDeclaration:case e.NodeType.Stylesheet:return!0}return!1}function x(t){if(t.matches(\"@at-root\"))return null;var r=new c,n=[],i=t.getParent();if(i instanceof e.RuleSet)for(var o=i.getParent();o&&!T(o);){if(o instanceof e.RuleSet){if(o.getSelectors().matches(\"@at-root\"))break;n.push(o)}o=o.getParent()}for(var a=new S(r),s=n.length-1;s>=0;s--){var l=n[s].getSelectors().getChild(0);l&&a.processSelector(l)}return a.processSelector(t),r}"},"sourceMaps":null,"error":null,"hash":"6a9916dfbd432e068476a6259babe4ee","cacheData":{"env":{}}}