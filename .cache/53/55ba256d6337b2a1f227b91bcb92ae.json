{"id":"KQdB","dependencies":[{"name":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1584771267802},{"name":"./../_deps/vscode-languageserver-types/main.js","loc":{"line":5,"column":33},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlFolding.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/_deps/vscode-languageserver-types/main.js"},{"name":"../htmlLanguageTypes.js","loc":{"line":6,"column":26},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlFolding.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/htmlLanguageTypes.js"},{"name":"../parser/htmlScanner.js","loc":{"line":7,"column":30},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlFolding.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/parser/htmlScanner.js"},{"name":"../languageFacts/fact.js","loc":{"line":8,"column":30},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlFolding.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/languageFacts/fact.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getFoldingRanges=r;var e=require(\"./../_deps/vscode-languageserver-types/main.js\"),n=require(\"../htmlLanguageTypes.js\"),t=require(\"../parser/htmlScanner.js\"),a=require(\"../languageFacts/fact.js\");function i(e,n){e=e.sort(function(e,n){var t=e.startLine-n.startLine;return 0===t&&(t=e.endLine-n.endLine),t});for(var t=void 0,a=[],i=[],r=[],s=function(e,n){i[e]=n,n<30&&(r[n]=(r[n]||0)+1)},o=0;o<e.length;o++){var g=e[o];if(t){if(g.startLine>t.startLine)if(g.endLine<=t.endLine)a.push(t),t=g,s(o,a.length);else if(g.startLine>t.endLine){do{t=a.pop()}while(t&&g.startLine>t.endLine);t&&a.push(t),t=g,s(o,a.length)}}else t=g,s(o,0)}var l=0,f=0;for(o=0;o<r.length;o++){var T=r[o];if(T){if(T+l>n){f=o;break}l+=T}}var p=[];for(o=0;o<e.length;o++){var u=i[o];\"number\"==typeof u&&(u<f||u===f&&l++<n)&&p.push(e[o])}return p}function r(r,s){var o=(0,t.createScanner)(r.getText()),g=o.scan(),l=[],f=[],T=null,p=-1;function u(e){l.push(e),p=e.startLine}for(;g!==n.TokenType.EOS;){switch(g){case n.TokenType.StartTag:var L=o.getTokenText(),d=r.positionAt(o.getTokenOffset()).line;f.push({startLine:d,tagName:L}),T=L;break;case n.TokenType.EndTag:T=o.getTokenText();break;case n.TokenType.StartTagClose:if(!T||!(0,a.isVoidElement)(T))break;case n.TokenType.EndTagClose:case n.TokenType.StartTagSelfClose:for(var c=f.length-1;c>=0&&f[c].tagName!==T;)c--;if(c>=0){var h=f[c];f.length=c,(v=r.positionAt(o.getTokenOffset()).line-1)>(d=h.startLine)&&p!==d&&u({startLine:d,endLine:v})}break;case n.TokenType.Comment:d=r.positionAt(o.getTokenOffset()).line;var k=o.getTokenText().match(/^\\s*#(region\\b)|(endregion\\b)/);if(k)if(k[1])f.push({startLine:d,tagName:\"\"});else{for(c=f.length-1;c>=0&&f[c].tagName.length;)c--;if(c>=0){var v;h=f[c];f.length=c,(v=d)>(d=h.startLine)&&p!==d&&u({startLine:d,endLine:v,kind:e.FoldingRangeKind.Region})}}else d<(v=r.positionAt(o.getTokenOffset()+o.getTokenLength()).line)&&u({startLine:d,endLine:v,kind:e.FoldingRangeKind.Comment})}g=o.scan()}var m=s&&s.rangeLimit||Number.MAX_VALUE;return l.length>m?i(l,m):l}"},"sourceMaps":null,"error":null,"hash":"8fa7e98d53e4a5894063fae98af1dac6","cacheData":{"env":{}}}