{"id":"dq4C","dependencies":[{"name":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1584771267802},{"name":"./../_deps/vscode-languageserver-types/main.js","loc":{"line":5,"column":92},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/_deps/vscode-languageserver-types/main.js"},{"name":"../parser/htmlScanner.js","loc":{"line":6,"column":30},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/parser/htmlScanner.js"},{"name":"../htmlLanguageTypes.js","loc":{"line":7,"column":40},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/htmlLanguageTypes.js"},{"name":"../parser/htmlEntities.js","loc":{"line":8,"column":25},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/parser/htmlEntities.js"},{"name":"./../../../fillers/vscode-nls.js","loc":{"line":9,"column":21},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/fillers/vscode-nls.js"},{"name":"../utils/strings.js","loc":{"line":10,"column":54},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/utils/strings.js"},{"name":"../languageFacts/builtinDataProviders.js","loc":{"line":11,"column":36},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/languageFacts/builtinDataProviders.js"},{"name":"../languageFacts/fact.js","loc":{"line":12,"column":30},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/languageFacts/fact.js"},{"name":"../utils/object.js","loc":{"line":13,"column":26},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/utils/object.js"},{"name":"../languageFacts/dataProvider.js","loc":{"line":14,"column":38},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlCompletion.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/languageFacts/dataProvider.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.HTMLCompletion=void 0;var e=require(\"./../_deps/vscode-languageserver-types/main.js\"),t=require(\"../parser/htmlScanner.js\"),n=require(\"../htmlLanguageTypes.js\"),r=require(\"../parser/htmlEntities.js\"),o=p(require(\"./../../../fillers/vscode-nls.js\")),i=require(\"../utils/strings.js\"),a=require(\"../languageFacts/builtinDataProviders.js\"),s=require(\"../languageFacts/fact.js\"),u=require(\"../utils/object.js\"),c=require(\"../languageFacts/dataProvider.js\");function f(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var l=o.loadMessageBundle(),d=function(){function o(e){this.clientCapabilities=e,this.completionParticipants=[]}return o.prototype.setCompletionParticipants=function(e){this.completionParticipants=e||[]},o.prototype.doComplete=function(e,t,n,r){var o=this._doComplete(e,t,n,r);return this.convertCompletionList(o)},o.prototype._doComplete=function(o,u,f,p){var d={isIncomplete:!1,items:[]},E=this.completionParticipants,h=(0,a.getAllDataProviders)().filter(function(e){return e.isApplicable(o.languageId)&&(!p||!1!==p[e.getId()])}),x=this.doesSupportMarkdown(),b=o.getText(),y=o.offsetAt(u),S=f.findNodeBefore(y);if(!S)return d;var C,O=(0,t.createScanner)(b,S.start),A=\"\";function P(e,t){return void 0===t&&(t=y),e>y&&(e=y),{start:o.positionAt(e),end:o.positionAt(t)}}function F(t,n){var r=P(t,n);return h.forEach(function(t){t.provideTags().forEach(function(t){d.items.push({label:t.name,kind:e.CompletionItemKind.Property,documentation:(0,c.generateDocumentation)(t,x),textEdit:e.TextEdit.replace(r,t.name),insertTextFormat:e.InsertTextFormat.PlainText})})}),d}function I(e){for(var t=e;t>0;){var n=b.charAt(t-1);if(\"\\n\\r\".indexOf(n)>=0)return b.substring(t,e);if(!g(n))return null;t--}return b.substring(0,e)}function j(t,r,o){void 0===o&&(o=y);var i=P(t,o),a=m(b,o,n.ScannerState.WithinEndTag,n.TokenType.EndTagClose)?\"\":\">\",s=S;for(r&&(s=s.parent);s;){var u=s.tag;if(u&&(!s.closed||s.endTagStart&&s.endTagStart>y)){var f={label:\"/\"+u,kind:e.CompletionItemKind.Property,filterText:\"/\"+u,textEdit:e.TextEdit.replace(i,\"/\"+u+a),insertTextFormat:e.InsertTextFormat.PlainText},p=I(s.start),l=I(t-1);if(null!==p&&null!==l&&p!==l){var T=p+\"</\"+u+a;f.textEdit=e.TextEdit.replace(P(t-1-l.length),T),f.filterText=l+\"</\"+u}return d.items.push(f),d}s=s.parent}return r?d:(h.forEach(function(t){t.provideTags().forEach(function(t){d.items.push({label:\"/\"+t.name,kind:e.CompletionItemKind.Property,documentation:(0,c.generateDocumentation)(t,x),filterText:\"/\"+t+a,textEdit:e.TextEdit.replace(i,\"/\"+t+a),insertTextFormat:e.InsertTextFormat.PlainText})})}),d)}function w(t,n){if(p&&p.hideAutoCompleteProposals)return d;if(!(0,s.isVoidElement)(n)){var r=o.positionAt(t);d.items.push({label:\"</\"+n+\">\",kind:e.CompletionItemKind.Property,filterText:\"</\"+n+\">\",textEdit:e.TextEdit.insert(r,\"$0</\"+n+\">\"),insertTextFormat:e.InsertTextFormat.Snippet})}return d}function M(e,t){return F(e,t),j(e,!0,t),d}function D(t,r){void 0===r&&(r=y);for(var o=y;o<r&&\"<\"!==b[o];)o++;var a=P(t,o),s=m(b,r,n.ScannerState.AfterAttributeName,n.TokenType.DelimiterAssign)?\"\":'=\"$1\"',u=A.toLowerCase(),p=Object.create(null);return h.forEach(function(t){t.provideAttributes(u).forEach(function(t){if(!p[t.name]){p[t.name]=!0;var n,r=t.name;\"v\"!==t.valueSet&&s.length&&(r+=s,(t.valueSet||\"style\"===t.name)&&(n={title:\"Suggest\",command:\"editor.action.triggerSuggest\"})),d.items.push({label:t.name,kind:\"handler\"===t.valueSet?e.CompletionItemKind.Function:e.CompletionItemKind.Value,documentation:(0,c.generateDocumentation)(t,x),textEdit:e.TextEdit.replace(a,r),insertTextFormat:e.InsertTextFormat.Snippet,command:n})}})}),function(t,n){var r=\"data-\",o={};o[r]=r+'$1=\"$2\"',f&&f.roots.forEach(function(e){return function e(t){t.attributeNames.forEach(function(e){!(0,i.startsWith)(e,r)||o[e]||n[e]||(o[e]=e+'=\"$1\"')});t.children.forEach(function(t){return e(t)})}(e)});Object.keys(o).forEach(function(n){return d.items.push({label:n,kind:e.CompletionItemKind.Value,textEdit:e.TextEdit.replace(t,o[n]),insertTextFormat:e.InsertTextFormat.Snippet})})}(a,p),d}function K(t,n){var r,i,a;if(void 0===n&&(n=y),y>t&&y<=n&&T(b[t])){var s=t+1,f=n;n>t&&b[n-1]===b[t]&&f--;var p=k(b,y,s),l=v(b,y,f);r=P(p,l),a=y>=s&&y<=f?b.substring(s,y):\"\",i=!1}else r=P(t,n),a=b.substring(t,y),i=!0;var g=A.toLowerCase(),m=C.toLowerCase();if(E.length>0)for(var S=P(t,n),O=0,F=E;O<F.length;O++){var I=F[O];I.onHtmlAttributeValue&&I.onHtmlAttributeValue({document:o,position:u,tag:g,attribute:m,value:a,range:S})}return h.forEach(function(t){t.provideValues(g,m).forEach(function(t){var n=i?'\"'+t.name+'\"':t.name;d.items.push({label:t.name,filterText:n,kind:e.CompletionItemKind.Unit,documentation:(0,c.generateDocumentation)(t,x),textEdit:e.TextEdit.replace(r,n),insertTextFormat:e.InsertTextFormat.PlainText})})}),V(),d}function q(e){return y===O.getTokenEnd()&&($=O.scan())===e&&O.getTokenOffset()===y?O.getTokenEnd():y}function L(){for(var e=0,t=E;e<t.length;e++){var n=t[e];n.onHtmlContent&&n.onHtmlContent({document:o,position:u})}return V()}function V(){for(var t=y-1,n=u.character;t>=0&&(0,i.isLetterOrDigit)(b,t);)t--,n--;if(t>=0&&\"&\"===b[t]){var o=e.Range.create(e.Position.create(u.line,n-1),u);for(var a in r.entities)if((0,i.endsWith)(a,\";\")){var s=\"&\"+a;d.items.push({label:s,kind:e.CompletionItemKind.Keyword,documentation:l(\"entity.propose\",\"Character entity representing '\"+r.entities[a]+\"'\"),textEdit:e.TextEdit.replace(o,s),insertTextFormat:e.InsertTextFormat.PlainText})}}return d}for(var W,$=O.scan();$!==n.TokenType.EOS&&O.getTokenOffset()<=y;){switch($){case n.TokenType.StartTagOpen:if(O.getTokenEnd()===y){var H=q(n.TokenType.StartTag);return 0===u.line&&(W=void 0,W=P(y,H),d.items.push({label:\"!DOCTYPE\",kind:e.CompletionItemKind.Property,documentation:\"A preamble for an HTML document.\",textEdit:e.TextEdit.replace(W,\"!DOCTYPE html>\"),insertTextFormat:e.InsertTextFormat.PlainText})),M(y,H)}break;case n.TokenType.StartTag:if(O.getTokenOffset()<=y&&y<=O.getTokenEnd())return F(O.getTokenOffset(),O.getTokenEnd());A=O.getTokenText();break;case n.TokenType.AttributeName:if(O.getTokenOffset()<=y&&y<=O.getTokenEnd())return D(O.getTokenOffset(),O.getTokenEnd());C=O.getTokenText();break;case n.TokenType.DelimiterAssign:if(O.getTokenEnd()===y){H=q(n.TokenType.AttributeValue);return K(y,H)}break;case n.TokenType.AttributeValue:if(O.getTokenOffset()<=y&&y<=O.getTokenEnd())return K(O.getTokenOffset(),O.getTokenEnd());break;case n.TokenType.Whitespace:if(y<=O.getTokenEnd())switch(O.getScannerState()){case n.ScannerState.AfterOpeningStartTag:return M(O.getTokenOffset(),q(n.TokenType.StartTag));case n.ScannerState.WithinTag:case n.ScannerState.AfterAttributeName:return D(O.getTokenEnd());case n.ScannerState.BeforeAttributeValue:return K(O.getTokenEnd());case n.ScannerState.AfterOpeningEndTag:return j(O.getTokenOffset()-1,!1);case n.ScannerState.WithinContent:return L()}break;case n.TokenType.EndTagOpen:if(y<=O.getTokenEnd())return j(O.getTokenOffset()+1,!1,q(n.TokenType.EndTag));break;case n.TokenType.EndTag:if(y<=O.getTokenEnd())for(var N=O.getTokenOffset()-1;N>=0;){var _=b.charAt(N);if(\"/\"===_)return j(N,!1,O.getTokenEnd());if(!g(_))break;N--}break;case n.TokenType.StartTagClose:if(y<=O.getTokenEnd()&&A)return w(O.getTokenEnd(),A);break;case n.TokenType.Content:if(y<=O.getTokenEnd())return L();break;default:if(y<=O.getTokenEnd())return d}$=O.scan()}return d},o.prototype.doTagComplete=function(e,r,o){var i=e.offsetAt(r);if(i<=0)return null;var a=e.getText().charAt(i-1);if(\">\"===a){if((c=o.findNodeBefore(i))&&c.tag&&!(0,s.isVoidElement)(c.tag)&&c.start<i&&(!c.endTagStart||c.endTagStart>i))for(var u=(f=(0,t.createScanner)(e.getText(),c.start)).scan();u!==n.TokenType.EOS&&f.getTokenEnd()<=i;){if(u===n.TokenType.StartTagClose&&f.getTokenEnd()===i)return\"$0</\"+c.tag+\">\";u=f.scan()}}else if(\"/\"===a){for(var c=o.findNodeBefore(i);c&&c.closed;)c=c.parent;if(c&&c.tag){var f;for(u=(f=(0,t.createScanner)(e.getText(),c.start)).scan();u!==n.TokenType.EOS&&f.getTokenEnd()<=i;){if(u===n.TokenType.EndTagOpen&&f.getTokenEnd()===i)return c.tag+\">\";u=f.scan()}}}return null},o.prototype.convertCompletionList=function(e){return this.doesSupportMarkdown()||e.items.forEach(function(e){e.documentation&&\"string\"!=typeof e.documentation&&(e.documentation={kind:\"plaintext\",value:e.documentation.value})}),e},o.prototype.doesSupportMarkdown=function(){if(!(0,u.isDefined)(this.supportsMarkdown)){if(!(0,u.isDefined)(this.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;var t=this.clientCapabilities&&this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.hover;this.supportsMarkdown=t&&t.contentFormat&&Array.isArray(t.contentFormat)&&-1!==t.contentFormat.indexOf(e.MarkupKind.Markdown)}return this.supportsMarkdown},o}();function T(e){return/^[\"']*$/.test(e)}function g(e){return/^\\s*$/.test(e)}function m(e,r,o,i){for(var a=(0,t.createScanner)(e,r,o),s=a.scan();s===n.TokenType.Whitespace;)s=a.scan();return s===i}function k(e,t,n){for(;t>n&&!g(e[t-1]);)t--;return t}function v(e,t,n){for(;t<n&&!g(e[t]);)t++;return t}exports.HTMLCompletion=d;"},"sourceMaps":null,"error":null,"hash":"c1ee54a41b55bdde13ad64884cfe664f","cacheData":{"env":{}}}