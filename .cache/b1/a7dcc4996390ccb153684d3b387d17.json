{"id":"i0Ia","dependencies":[{"name":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1584771267802},{"name":"../../../base/common/arrays.js","loc":{"line":54,"column":26},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/base/common/arrays.js"},{"name":"../../../base/common/diff/diff.js","loc":{"line":55,"column":27},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/base/common/diff/diff.js"},{"name":"../../../base/common/iterator.js","loc":{"line":56,"column":20},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/base/common/iterator.js"},{"name":"../../../base/common/platform.js","loc":{"line":57,"column":24},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/base/common/platform.js"},{"name":"../../../base/common/uri.js","loc":{"line":58,"column":20},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/base/common/uri.js"},{"name":"../core/position.js","loc":{"line":59,"column":25},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/core/position.js"},{"name":"../core/range.js","loc":{"line":60,"column":22},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/core/range.js"},{"name":"../diff/diffComputer.js","loc":{"line":61,"column":29},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/diff/diffComputer.js"},{"name":"../model/mirrorTextModel.js","loc":{"line":62,"column":51},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/model/mirrorTextModel.js"},{"name":"../model/wordHelper.js","loc":{"line":63,"column":57},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/model/wordHelper.js"},{"name":"../modes/linkComputer.js","loc":{"line":64,"column":29},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/modes/linkComputer.js"},{"name":"../modes/supports/inplaceReplaceSupport.js","loc":{"line":65,"column":36},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/modes/supports/inplaceReplaceSupport.js"},{"name":"../standalone/standaloneBase.js","loc":{"line":66,"column":36},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/standalone/standaloneBase.js"},{"name":"../../../base/common/types.js","loc":{"line":67,"column":23},"parent":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js","resolved":"/Users/guoyaqi/work/2020/playground/node_modules/monaco-editor/esm/vs/base/common/types.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.create=N,exports.EditorSimpleWorker=void 0;var e=require(\"../../../base/common/arrays.js\"),t=require(\"../../../base/common/diff/diff.js\"),n=require(\"../../../base/common/iterator.js\"),r=require(\"../../../base/common/platform.js\"),o=require(\"../../../base/common/uri.js\"),i=require(\"../core/position.js\"),u=require(\"../core/range.js\"),s=require(\"../diff/diffComputer.js\"),l=require(\"../model/mirrorTextModel.js\"),a=require(\"../model/wordHelper.js\"),c=require(\"../modes/linkComputer.js\"),f=require(\"../modes/supports/inplaceReplaceSupport.js\"),d=require(\"../standalone/standaloneBase.js\"),p=h(require(\"../../../base/common/types.js\"));function m(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function h(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var g=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(u,s)}l((r=r.apply(e,t||[])).next())})},_=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),Object.defineProperty(t.prototype,\"uri\",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"version\",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"eol\",{get:function(){return this._eol},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this.getText()},t.prototype.getLinesContent=function(){return this._lines.slice(0)},t.prototype.getLineCount=function(){return this._lines.length},t.prototype.getLineContent=function(e){return this._lines[e-1]},t.prototype.getWordAtPosition=function(e,t){var n=(0,a.getWordAtText)(e.column,(0,a.ensureValidWordDefinition)(t),this._lines[e.lineNumber-1],0);return n?new u.Range(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null},t.prototype.createWordIterator=function(e){var t,r,o=this,i=0,u=0,s=[],l=function(){if(u<s.length){var a=r.substring(s[u].start,s[u].end);return u+=1,t?t.value=a:t={done:!1,value:a},t}return i>=o._lines.length?n.FIN:(r=o._lines[i],s=o._wordenize(r,e),u=0,i+=1,l())};return{next:l}},t.prototype.getLineWords=function(e,t){for(var n=this._lines[e-1],r=[],o=0,i=this._wordenize(n,t);o<i.length;o++){var u=i[o];r.push({word:n.substring(u.start,u.end),startColumn:u.start+1,endColumn:u.end+1})}return r},t.prototype._wordenize=function(e,t){var n,r=[];for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)r.push({start:n.index,end:n.index+n[0].length});return r},t.prototype.getValueInRange=function(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);var t=this._eol,n=e.startLineNumber-1,r=e.endLineNumber-1,o=[];o.push(this._lines[n].substring(e.startColumn-1));for(var i=n+1;i<r;i++)o.push(this._lines[i]);return o.push(this._lines[r].substring(0,e.endColumn-1)),o.join(t)},t.prototype.offsetAt=function(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(e.lineNumber-2)+(e.column-1)},t.prototype.positionAt=function(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}},t.prototype._validateRange=function(e){var t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e},t.prototype._validatePosition=function(e){if(!i.Position.isIPosition(e))throw new Error(\"bad position\");var t=e.lineNumber,n=e.column,r=!1;if(t<1)t=1,n=1,r=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,r=!0;else{var o=this._lines[t-1].length+1;n<1?(n=1,r=!0):n>o&&(n=o,r=!0)}return r?{lineNumber:t,column:n}:e},t}(l.MirrorTextModel),v=function(){function n(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}return n.prototype.dispose=function(){this._models=Object.create(null)},n.prototype._getModel=function(e){return this._models[e]},n.prototype._getModels=function(){var e=this,t=[];return Object.keys(this._models).forEach(function(n){return t.push(e._models[n])}),t},n.prototype.acceptNewModel=function(e){this._models[e.url]=new y(o.URI.parse(e.url),e.lines,e.EOL,e.versionId)},n.prototype.acceptModelChanged=function(e,t){this._models[e]&&this._models[e].onEvents(t)},n.prototype.acceptRemovedModel=function(e){this._models[e]&&delete this._models[e]},n.prototype.computeDiff=function(e,t,n,r){return b(this,void 0,void 0,function(){var o,i,u,l,a,c,f;return _(this,function(d){return o=this._getModel(e),i=this._getModel(t),o&&i?(u=o.getLinesContent(),l=i.getLinesContent(),a=new s.DiffComputer(u,l,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:n,shouldMakePrettyDiff:!0,maxComputationTime:r}),c=a.computeDiff(),f=!(c.changes.length>0)&&this._modelsAreIdentical(o,i),[2,{quitEarly:c.quitEarly,identical:f,changes:c.changes}]):[2,null]})})},n.prototype._modelsAreIdentical=function(e,t){var n=e.getLineCount();if(n!==t.getLineCount())return!1;for(var r=1;r<=n;r++){if(e.getLineContent(r)!==t.getLineContent(r))return!1}return!0},n.prototype.computeMoreMinimalEdits=function(r,o){return b(this,void 0,void 0,function(){var i,s,l,a,c,f,d,p,m,h,g,b,y,v,N,C,L,M;return _(this,function(_){if(!(i=this._getModel(r)))return[2,o];for(s=[],l=void 0,o=(0,e.mergeSort)(o,function(e,t){return e.range&&t.range?u.Range.compareRangesUsingStarts(e.range,t.range):(e.range?0:1)-(t.range?0:1)}),a=0,c=o;a<c.length;a++)if(f=c[a],d=f.range,p=f.text,\"number\"==typeof(m=f.eol)&&(l=m),(!u.Range.isEmpty(d)||p)&&(h=i.getValueInRange(d),p=p.replace(/\\r\\n|\\n|\\r/g,i.eol),h!==p))if(Math.max(p.length,h.length)>n._diffLimit)s.push({range:d,text:p});else for(g=(0,t.stringDiff)(h,p,!1),b=i.offsetAt(u.Range.lift(d).getStartPosition()),y=0,v=g;y<v.length;y++)N=v[y],C=i.positionAt(b+N.originalStart),L=i.positionAt(b+N.originalStart+N.originalLength),M={text:p.substr(N.modifiedStart,N.modifiedLength),range:{startLineNumber:C.lineNumber,startColumn:C.column,endLineNumber:L.lineNumber,endColumn:L.column}},i.getValueInRange(M.range)!==M.text&&s.push(M);return\"number\"==typeof l&&s.push({eol:l,text:\"\",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),[2,s]})})},n.prototype.computeLinks=function(e){return b(this,void 0,void 0,function(){var t;return _(this,function(n){return(t=this._getModel(e))?[2,(0,c.computeLinks)(t)]:[2,null]})})},n.prototype.textualSuggest=function(e,t,r,o){return b(this,void 0,void 0,function(){var i,u,s,l,a,c,f,d;return _(this,function(p){if(!(i=this._getModel(e)))return[2,null];for(u=[],s=new Set,l=new RegExp(r,o),(a=i.getWordAtPosition(t,l))&&s.add(i.getValueInRange(a)),c=i.createWordIterator(l),f=c.next();!f.done&&s.size<=n._suggestionsLimit;f=c.next())d=f.value,s.has(d)||(s.add(d),isNaN(Number(d))&&u.push(d));return[2,u]})})},n.prototype.computeWordRanges=function(e,t,n,r){return b(this,void 0,void 0,function(){var o,i,u,s,l,a,c,f,d;return _(this,function(p){if(!(o=this._getModel(e)))return[2,Object.create(null)];for(i=new RegExp(n,r),u=Object.create(null),s=t.startLineNumber;s<t.endLineNumber;s++)for(l=o.getLineWords(s,i),a=0,c=l;a<c.length;a++)f=c[a],isNaN(Number(f.word))&&((d=u[f.word])||(d=[],u[f.word]=d),d.push({startLineNumber:s,startColumn:f.startColumn,endLineNumber:s,endColumn:f.endColumn}));return[2,u]})})},n.prototype.navigateValueSet=function(e,t,n,r,o){return b(this,void 0,void 0,function(){var i,u,s,l,a;return _(this,function(c){return(i=this._getModel(e))?(u=new RegExp(r,o),t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1}),s=i.getValueInRange(t),(l=i.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},u))?(a=i.getValueInRange(l),[2,f.BasicInplaceReplace.INSTANCE.navigateValueSet(t,s,l,a,n)]):[2,null]):[2,null]})})},n.prototype.loadForeignModule=function(e,t,n){var r=this,o={host:p.createProxyObject(n,function(e,t){return r._host.fhr(e,t)}),getMirrorModels:function(){return r._getModels()}};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(o,t),Promise.resolve(p.getAllMethodNames(this._foreignModule))):Promise.reject(new Error(\"Unexpected usage\"))},n.prototype.fmr=function(e,t){if(!this._foreignModule||\"function\"!=typeof this._foreignModule[e])return Promise.reject(new Error(\"Missing requestHandler or method: \"+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(n){return Promise.reject(n)}},n._diffLimit=1e5,n._suggestionsLimit=1e4,n}();function N(e){return new v(e,null)}exports.EditorSimpleWorker=v,\"function\"==typeof importScripts&&(r.globals.monaco=(0,d.createMonacoBaseAPI)());"},"sourceMaps":null,"error":null,"hash":"cda7d8d4e91bbf5b90940015eea74585","cacheData":{"env":{}}}